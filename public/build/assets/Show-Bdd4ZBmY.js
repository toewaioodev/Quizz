import{c as X,u as Y,k as Z,r as ee,l as te,j as t,H as se}from"./app-BbfC0ngc.js";import{B as ae}from"./BottomNav-BghD8Y4-.js";import{N as le}from"./Navbar-CpQksjDG.js";import{A as J}from"./index-oIBq3PwH.js";import{m as G}from"./proxy-CLPHsfpb.js";/* empty css            */import"./ChartBarIcon-9q-IPVAR.js";function me(K){const e=X.c(71),{history:N,stats:i}=K,{t:a}=Y(),s=Z().props.auth.user,[y,I]=ee.useState("activity"),B=s.settings?.difficulty||"medium";let o;e[0]!==B?(o={difficulty:B},e[0]=B,e[1]=o):o=e[1];const E=s.profile_photo_path||"",H=s.username||"";let S;e[2]!==o||e[3]!==E||e[4]!==H?(S={_method:"PATCH",settings:o,photo_url:E,username:H},e[2]=o,e[3]=E,e[4]=H,e[5]=S):S=e[5];const{data:r,setData:_,post:R,processing:$,recentlySuccessful:O,errors:n}=te(S);let C;e[6]!==R?(C=l=>{l.preventDefault(),R("/profile")},e[6]=R,e[7]=C):C=e[7];const q=C;let L,P;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(se,{title:"Profile"}),P=t.jsx(le,{}),e[8]=L,e[9]=P):(L=e[8],P=e[9]);let A;e[10]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-50 dark:from-indigo-500/20 dark:via-purple-500/20 dark:to-pink-500/20"}),e[10]=A):A=e[10];let M;e[11]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-blue-500 to-purple-600 opacity-75 blur dark:opacity-100"}),e[11]=M):M=e[11];const U=r.photo_url||s.profile_photo_url||`https://ui-avatars.com/api/?name=${s.name}`;let d;e[12]!==U||e[13]!==s.name?(d=t.jsx("img",{className:"relative h-24 w-24 rounded-full border-4 border-white object-cover shadow-xl dark:border-slate-800",src:U,alt:s.name}),e[12]=U,e[13]=s.name,e[14]=d):d=e[14];const F=Math.floor((s.points||0)/100)+1;let c;e[15]!==F?(c=t.jsx("div",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-xs font-bold text-white shadow-lg ring-2 ring-white dark:ring-slate-900",children:F}),e[15]=F,e[16]=c):c=e[16];let x;e[17]!==d||e[18]!==c?(x=t.jsxs("div",{className:"relative mb-4",children:[M,d,c]}),e[17]=d,e[18]=c,e[19]=x):x=e[19];let m;e[20]!==s.name?(m=t.jsx("h1",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white",children:s.name}),e[20]=s.name,e[21]=m):m=e[21];let u;e[22]!==s.username?(u=s.username&&t.jsxs("p",{className:"text-sm font-bold text-indigo-500",children:["@",s.username]}),e[22]=s.username,e[23]=u):u=e[23];let h;e[24]!==s.email?(h=t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:s.email}),e[24]=s.email,e[25]=h):h=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=()=>I("activity"),e[26]=T):T=e[26];const Q=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${y==="activity"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let p;e[27]!==a?(p=a("Activity"),e[27]=a,e[28]=p):p=e[28];let b;e[29]!==Q||e[30]!==p?(b=t.jsx("button",{onClick:T,className:Q,children:p}),e[29]=Q,e[30]=p,e[31]=b):b=e[31];let W;e[32]===Symbol.for("react.memo_cache_sentinel")?(W=()=>I("settings"),e[32]=W):W=e[32];const V=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${y==="settings"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let f;e[33]!==a?(f=a("Settings"),e[33]=a,e[34]=f):f=e[34];let g;e[35]!==V||e[36]!==f?(g=t.jsx("button",{onClick:W,className:V,children:f}),e[35]=V,e[36]=f,e[37]=g):g=e[37];let v;e[38]!==b||e[39]!==g?(v=t.jsxs("div",{className:"mt-6 flex w-full max-w-xs items-center justify-center rounded-xl bg-slate-100 p-1 dark:bg-slate-800/50",children:[b,g]}),e[38]=b,e[39]=g,e[40]=v):v=e[40];let j;e[41]!==x||e[42]!==m||e[43]!==u||e[44]!==h||e[45]!==v?(j=t.jsxs("div",{className:"relative overflow-hidden bg-white pb-10 pt-24 shadow-sm dark:bg-slate-900",children:[A,t.jsxs("div",{className:"relative mx-auto flex max-w-lg flex-col items-center px-4 text-center",children:[x,m,u,h,v]})]}),e[41]=x,e[42]=m,e[43]=u,e[44]=h,e[45]=v,e[46]=j):j=e[46];let k;e[47]!==y||e[48]!==r.photo_url||e[49]!==r.settings||e[50]!==r.username||e[51]!==n||e[52]!==N||e[53]!==$||e[54]!==O||e[55]!==_||e[56]!==i||e[57]!==q||e[58]!==a||e[59]!==s.email||e[60]!==s.id||e[61]!==s.name||e[62]!==s.profile_photo_url||e[63]!==s.username?(k=t.jsx("main",{className:"mx-auto max-w-lg px-4 pt-6",children:t.jsx(J,{mode:"wait",children:y==="activity"?t.jsxs(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[i&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"col-span-2 overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 p-5 text-white shadow-lg shadow-blue-500/20",children:[t.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-blue-100",children:a("Total Points")}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-4xl font-black",children:i.points}),t.jsx("span",{className:"text-sm font-medium text-blue-200",children:"pts"})]})]}),t.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:a("Wins")}),t.jsx("div",{className:"mt-1 text-2xl font-black text-green-500",children:i.wins})]}),t.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:a("Losses")}),t.jsx("div",{className:"mt-1 text-2xl font-black text-red-500",children:i.losses})]}),t.jsxs("div",{className:"col-span-2 rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:a("Win Rate")}),t.jsxs("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:[i.total_games>0?Math.round(i.wins/i.total_games*100):0,"%"]})]}),t.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${i.total_games>0?i.wins/i.total_games*100:0}%`}})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"px-1 text-sm font-bold uppercase tracking-wider text-slate-400",children:a("Recent Matches")}),N&&N.length>0?t.jsx("div",{className:"space-y-3",children:N.map(l=>t.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white p-3 shadow-sm transition-transform active:scale-[0.98] dark:bg-slate-800",children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx("img",{className:"h-10 w-10 rounded-full bg-slate-100 object-cover dark:bg-slate-700",src:l.opponent?.avatar||`https://ui-avatars.com/api/?name=${l.opponent?.name||"?"}`,alt:""}),t.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-white dark:border-slate-800 ${l.result==="win"?"bg-green-500":l.result==="loss"?"bg-red-500":"bg-slate-400"}`})]}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"truncate font-bold text-slate-900 dark:text-white",children:l.opponent?.name||a("Unknown Opponent")}),t.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:l.date})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`font-black ${l.result==="win"?"text-green-500":l.result==="loss"?"text-red-500":"text-slate-500"}`,children:l.result==="win"?"WON":l.result==="loss"?"LOST":"DRAW"}),t.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500",children:l.score})]})]},l.id))}):t.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-slate-200 p-8 text-center dark:border-slate-700",children:[t.jsx("div",{className:"mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-slate-400 dark:bg-slate-800",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("p",{className:"font-medium text-slate-500 dark:text-slate-400",children:a("No matches played yet")})]})]})]},"activity"):t.jsx(G.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:t.jsx("form",{onSubmit:q,className:"rounded-2xl bg-white p-5 shadow-sm dark:bg-slate-800",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Profile Photo")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{className:"h-14 w-14 rounded-full border border-slate-200 dark:border-slate-700",src:r.photo_url||s.profile_photo_url||`https://ui-avatars.com/api/?name=${s.name}`,alt:s.name}),t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"url",className:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-2.5 text-sm font-medium transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:r.photo_url,onChange:l=>_("photo_url",l.target.value),placeholder:"https://..."})})]}),n.photo_url&&t.jsx("div",{className:"mt-1 text-xs text-red-500",children:n.photo_url})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Public Profile Link")}),t.jsxs("div",{className:"relative flex items-center rounded-xl bg-indigo-50 px-4 py-3 dark:bg-indigo-900/20",children:[t.jsx("div",{className:"min-w-0 flex-1 truncate text-sm font-bold text-indigo-600 dark:text-indigo-400",children:`${window.location.origin}/u/${s.username||s.id}`}),t.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/u/${s.username||s.id}`),alert(a("Link copied!"))},className:"ml-3 rounded-lg bg-white p-1.5 text-indigo-500 shadow-sm transition-colors hover:text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:hover:text-indigo-200",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),t.jsx("p",{className:"mt-2 text-xs text-slate-400",children:a("Share this link to show off your stats.")})]}),t.jsxs("div",{className:"grid gap-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Display Name")}),t.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:s.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Username")}),t.jsx("input",{type:"text",className:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-bold text-slate-900 transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:r.username,onChange:l=>_("username",l.target.value),placeholder:a("Set a unique username")}),n.username&&t.jsx("div",{className:"mt-1 text-xs text-red-500",children:n.username})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Email Address")}),t.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:s.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:a("Quiz Difficulty")}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{className:"w-full appearance-none rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-bold text-slate-900 transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:r.settings.difficulty,onChange:l=>_("settings",{...r.settings,difficulty:l.target.value}),children:[t.jsx("option",{value:"easy",children:a("Easy")}),t.jsx("option",{value:"medium",children:a("Medium")}),t.jsx("option",{value:"hard",children:a("Hard")})]}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t.jsx("p",{className:"mt-2 text-xs text-slate-400",children:a("Default difficulty for single player quizzes.")})]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("button",{type:"submit",disabled:$,className:"flex w-full items-center justify-center rounded-xl bg-slate-900 py-3.5 text-sm font-bold text-white shadow-lg transition-transform active:scale-[0.98] disabled:opacity-50 dark:bg-white dark:text-slate-900",children:$?t.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-400 border-t-white"}):a("Save Changes")}),t.jsx(J,{children:O&&t.jsx(G.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-center text-xs font-medium text-green-500",children:a("Settings saved successfully!")})})]})]})})},"settings")})}),e[47]=y,e[48]=r.photo_url,e[49]=r.settings,e[50]=r.username,e[51]=n,e[52]=N,e[53]=$,e[54]=O,e[55]=_,e[56]=i,e[57]=q,e[58]=a,e[59]=s.email,e[60]=s.id,e[61]=s.name,e[62]=s.profile_photo_url,e[63]=s.username,e[64]=k):k=e[64];let w;e[65]!==j||e[66]!==k?(w=t.jsxs("div",{className:"relative pb-20",children:[j,k]}),e[65]=j,e[66]=k,e[67]=w):w=e[67];let D;e[68]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(ae,{}),e[68]=D):D=e[68];let z;return e[69]!==w?(z=t.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 transition-colors duration-300 dark:bg-slate-950 dark:text-gray-100 pb-20 md:pb-0",children:[L,P,w,D]}),e[69]=w,e[70]=z):z=e[70],z}export{me as default};
