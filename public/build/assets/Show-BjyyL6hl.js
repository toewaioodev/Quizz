import{c as I,u as J,k as K,r as V,l as X,j as t,H as Y}from"./app-DJDsF77k.js";import{N as Z}from"./Navbar-DPSuHTc8.js";import{A as U}from"./index-RplDFPD_.js";import{m as F}from"./proxy-Bap4ug7x.js";/* empty css            */function ie(G){const e=I.c(61),{history:j,stats:i}=G,{t:s}=J(),l=K().props.auth.user,[k,Q]=V.useState("activity"),T=l.settings?.difficulty||"medium";let o;e[0]!==T?(o={difficulty:T},e[0]=T,e[1]=o):o=e[1];const W=l.profile_photo_path||"";let N;e[2]!==o||e[3]!==W?(N={_method:"PATCH",settings:o,photo_url:W},e[2]=o,e[3]=W,e[4]=N):N=e[4];const{data:r,setData:w,post:E,processing:y,recentlySuccessful:R,errors:_}=X(N);let S;e[5]!==E?(S=a=>{a.preventDefault(),E("/profile")},e[5]=E,e[6]=S):S=e[6];const z=S;let $,C;e[7]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(Y,{title:"Profile"}),C=t.jsx(Z,{}),e[7]=$,e[8]=C):($=e[7],C=e[8]);let P;e[9]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-50 dark:from-indigo-500/20 dark:via-purple-500/20 dark:to-pink-500/20"}),e[9]=P):P=e[9];let A;e[10]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-blue-500 to-purple-600 opacity-75 blur dark:opacity-100"}),e[10]=A):A=e[10];const H=r.photo_url||l.profile_photo_url||`https://ui-avatars.com/api/?name=${l.name}`;let d;e[11]!==H||e[12]!==l.name?(d=t.jsx("img",{className:"relative h-24 w-24 rounded-full border-4 border-white object-cover shadow-xl dark:border-slate-800",src:H,alt:l.name}),e[11]=H,e[12]=l.name,e[13]=d):d=e[13];const O=Math.floor((l.points||0)/100)+1;let n;e[14]!==O?(n=t.jsx("div",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500 text-xs font-bold text-white shadow-lg ring-2 ring-white dark:ring-slate-900",children:O}),e[14]=O,e[15]=n):n=e[15];let c;e[16]!==d||e[17]!==n?(c=t.jsxs("div",{className:"relative mb-4",children:[A,d,n]}),e[16]=d,e[17]=n,e[18]=c):c=e[18];let x;e[19]!==l.name?(x=t.jsx("h1",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white",children:l.name}),e[19]=l.name,e[20]=x):x=e[20];let m;e[21]!==l.email?(m=t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:l.email}),e[21]=l.email,e[22]=m):m=e[22];let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=()=>Q("activity"),e[23]=D):D=e[23];const B=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${k==="activity"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let h;e[24]!==s?(h=s("Activity"),e[24]=s,e[25]=h):h=e[25];let u;e[26]!==B||e[27]!==h?(u=t.jsx("button",{onClick:D,className:B,children:h}),e[26]=B,e[27]=h,e[28]=u):u=e[28];let L;e[29]===Symbol.for("react.memo_cache_sentinel")?(L=()=>Q("settings"),e[29]=L):L=e[29];const q=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${k==="settings"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let p;e[30]!==s?(p=s("Settings"),e[30]=s,e[31]=p):p=e[31];let b;e[32]!==q||e[33]!==p?(b=t.jsx("button",{onClick:L,className:q,children:p}),e[32]=q,e[33]=p,e[34]=b):b=e[34];let f;e[35]!==u||e[36]!==b?(f=t.jsxs("div",{className:"mt-6 flex w-full max-w-xs items-center justify-center rounded-xl bg-slate-100 p-1 dark:bg-slate-800/50",children:[u,b]}),e[35]=u,e[36]=b,e[37]=f):f=e[37];let g;e[38]!==c||e[39]!==x||e[40]!==m||e[41]!==f?(g=t.jsxs("div",{className:"relative overflow-hidden bg-white pb-10 pt-24 shadow-sm dark:bg-slate-900",children:[P,t.jsxs("div",{className:"relative mx-auto flex max-w-lg flex-col items-center px-4 text-center",children:[c,x,m,f]})]}),e[38]=c,e[39]=x,e[40]=m,e[41]=f,e[42]=g):g=e[42];let v;e[43]!==k||e[44]!==r.photo_url||e[45]!==r.settings||e[46]!==_||e[47]!==j||e[48]!==y||e[49]!==R||e[50]!==w||e[51]!==i||e[52]!==z||e[53]!==s||e[54]!==l.email||e[55]!==l.name||e[56]!==l.profile_photo_url?(v=t.jsx("main",{className:"mx-auto max-w-lg px-4 pt-6",children:t.jsx(U,{mode:"wait",children:k==="activity"?t.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[i&&t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"col-span-2 overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 p-5 text-white shadow-lg shadow-blue-500/20",children:[t.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-blue-100",children:s("Total Points")}),t.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[t.jsx("span",{className:"text-4xl font-black",children:i.points}),t.jsx("span",{className:"text-sm font-medium text-blue-200",children:"pts"})]})]}),t.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:s("Wins")}),t.jsx("div",{className:"mt-1 text-2xl font-black text-green-500",children:i.wins})]}),t.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:s("Losses")}),t.jsx("div",{className:"mt-1 text-2xl font-black text-red-500",children:i.losses})]}),t.jsxs("div",{className:"col-span-2 rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:s("Win Rate")}),t.jsxs("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:[i.total_games>0?Math.round(i.wins/i.total_games*100):0,"%"]})]}),t.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${i.total_games>0?i.wins/i.total_games*100:0}%`}})})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"px-1 text-sm font-bold uppercase tracking-wider text-slate-400",children:s("Recent Matches")}),j&&j.length>0?t.jsx("div",{className:"space-y-3",children:j.map(a=>t.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white p-3 shadow-sm transition-transform active:scale-[0.98] dark:bg-slate-800",children:[t.jsxs("div",{className:"relative shrink-0",children:[t.jsx("img",{className:"h-10 w-10 rounded-full bg-slate-100 object-cover dark:bg-slate-700",src:a.opponent?.avatar||`https://ui-avatars.com/api/?name=${a.opponent?.name||"?"}`,alt:""}),t.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-white dark:border-slate-800 ${a.result==="win"?"bg-green-500":a.result==="loss"?"bg-red-500":"bg-slate-400"}`})]}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"truncate font-bold text-slate-900 dark:text-white",children:a.opponent?.name||s("Unknown Opponent")}),t.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:a.date})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`font-black ${a.result==="win"?"text-green-500":a.result==="loss"?"text-red-500":"text-slate-500"}`,children:a.result==="win"?"WON":a.result==="loss"?"LOST":"DRAW"}),t.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500",children:a.score})]})]},a.id))}):t.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-slate-200 p-8 text-center dark:border-slate-700",children:[t.jsx("div",{className:"mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-slate-400 dark:bg-slate-800",children:t.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("p",{className:"font-medium text-slate-500 dark:text-slate-400",children:s("No matches played yet")})]})]})]},"activity"):t.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:t.jsx("form",{onSubmit:z,className:"rounded-2xl bg-white p-5 shadow-sm dark:bg-slate-800",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:s("Profile Photo")}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{className:"h-14 w-14 rounded-full border border-slate-200 dark:border-slate-700",src:r.photo_url||l.profile_photo_url||`https://ui-avatars.com/api/?name=${l.name}`,alt:l.name}),t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"url",className:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-2.5 text-sm font-medium transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:r.photo_url,onChange:a=>w("photo_url",a.target.value),placeholder:"https://..."})})]}),_.photo_url&&t.jsx("div",{className:"mt-1 text-xs text-red-500",children:_.photo_url})]}),t.jsxs("div",{className:"grid gap-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:s("Display Name")}),t.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:l.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:s("Email Address")}),t.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:l.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:s("Quiz Difficulty")}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{className:"w-full appearance-none rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-bold text-slate-900 transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:r.settings.difficulty,onChange:a=>w("settings",{...r.settings,difficulty:a.target.value}),children:[t.jsx("option",{value:"easy",children:s("Easy")}),t.jsx("option",{value:"medium",children:s("Medium")}),t.jsx("option",{value:"hard",children:s("Hard")})]}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:t.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),t.jsx("p",{className:"mt-2 text-xs text-slate-400",children:s("Default difficulty for single player quizzes.")})]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("button",{type:"submit",disabled:y,className:"flex w-full items-center justify-center rounded-xl bg-slate-900 py-3.5 text-sm font-bold text-white shadow-lg transition-transform active:scale-[0.98] disabled:opacity-50 dark:bg-white dark:text-slate-900",children:y?t.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-400 border-t-white"}):s("Save Changes")}),t.jsx(U,{children:R&&t.jsx(F.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-center text-xs font-medium text-green-500",children:s("Settings saved successfully!")})})]})]})})},"settings")})}),e[43]=k,e[44]=r.photo_url,e[45]=r.settings,e[46]=_,e[47]=j,e[48]=y,e[49]=R,e[50]=w,e[51]=i,e[52]=z,e[53]=s,e[54]=l.email,e[55]=l.name,e[56]=l.profile_photo_url,e[57]=v):v=e[57];let M;return e[58]!==g||e[59]!==v?(M=t.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 transition-colors duration-300 dark:bg-slate-950 dark:text-gray-100",children:[$,C,t.jsxs("div",{className:"relative pb-20",children:[g,v]})]}),e[58]=g,e[59]=v,e[60]=M):M=e[60],M}export{ie as default};
