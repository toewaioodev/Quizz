import{u as ce,j as t,r as ne,a as he,H as xe,L as fe,c as pe}from"./app-C9juYcmM.js";import{c as me}from"./compiler-runtime-ByB3rLD-.js";import{g as be,C as ue,A as ge,f as ve}from"./ChannelProvider-hKJIHm_H.js";import{N as je}from"./Navbar-DNn6z4o2.js";import{u as ke}from"./ThemeSwitcher-B8JRBI3v.js";/* empty css            */function ze(e){const s=me.c(6),{ably_key:l}=e,d=ce().props.auth.user,c=String(d.id);let n;s[0]!==l||s[1]!==c?(n=new be.Realtime({key:l,clientId:c}),s[0]=l,s[1]=c,s[2]=n):n=s[2];const a=n;let m;s[3]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(ue,{channelName:"lobby",children:t.jsx(we,{})}),s[3]=m):m=s[3];let r;return s[4]!==a?(r=t.jsx(ge,{client:a,children:m}),s[4]=a,s[5]=r):r=s[5],r}function we(){const e=me.c(113),{t:s}=ke(),l=ce().props.auth.user,[d,c]=ne.useState(!1);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[a,m]=ne.useState(n),{channel:r}=ve("lobby");let O;e[1]!==r||e[2]!==l.id||e[3]!==l.name||e[4]!==l.profile_photo_url?(O=()=>{if(!r)return;const i=async()=>{try{const o=await r.presence.get(),de=Array.from(new Map(o.map(ye)).values());m(de)}catch(o){console.error("Error fetching presence:",o)}};return r.presence.enter({name:l.name,id:l.id,profile_photo_url:l.profile_photo_url}),r.presence.subscribe("enter",i),r.presence.subscribe("leave",i),r.presence.subscribe("update",i),i(),()=>{r.presence.leave(),r.presence.unsubscribe()}},e[1]=r,e[2]=l.id,e[3]=l.name,e[4]=l.profile_photo_url,e[5]=O):O=e[5];let Q;e[6]!==r||e[7]!==l.id||e[8]!==l.name?(Q=[r,l.name,l.id],e[6]=r,e[7]=l.id,e[8]=l.name,e[9]=Q):Q=e[9],ne.useEffect(O,Q);let Y;e[10]!==s?(Y=()=>{c(!0),he.post("/match/find").then(Ne).catch(i=>{console.error("Matchmaking failed:",i),i.response?.status===403&&alert(s(i.response.data.message)),c(!1)})},e[10]=s,e[11]=Y):Y=e[11];const te=Y;let D,G;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(xe,{title:"Battle Lobby"}),G=t.jsx(je,{}),e[12]=D,e[13]=G):(D=e[12],G=e[13]);let J;e[14]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs("div",{className:"pointer-events-none absolute top-0 left-0 h-full w-full overflow-hidden opacity-50 dark:opacity-100",children:[t.jsx("div",{className:"absolute top-[-10%] right-[-10%] h-[500px] w-[500px] rounded-full bg-purple-600/20 blur-[100px]"}),t.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] h-[500px] w-[500px] rounded-full bg-blue-600/20 blur-[100px]"})]}),e[14]=J):J=e[14];let h;e[15]!==s?(h=s("Quiz Battle"),e[15]=s,e[16]=h):h=e[16];let x;e[17]!==h?(x=t.jsx("h1",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-4xl font-bold tracking-tighter text-transparent dark:from-blue-400 dark:to-purple-400",children:h}),e[17]=h,e[18]=x):x=e[18];let f;e[19]!==s?(f=s("Compete in real-time 1v1 matches."),e[19]=s,e[20]=f):f=e[20];let p;e[21]!==f?(p=t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:f}),e[21]=f,e[22]=p):p=e[22];let b;e[23]!==p||e[24]!==x?(b=t.jsxs("div",{className:"space-y-2",children:[x,p]}),e[23]=p,e[24]=x,e[25]=b):b=e[25];let u;e[26]!==s?(u=s("My Rank"),e[26]=s,e[27]=u):u=e[27];let g;e[28]!==u?(g=t.jsx("p",{className:"text-xs font-semibold tracking-wider text-slate-500 uppercase",children:u}),e[28]=u,e[29]=g):g=e[29];const se=l.points||0;let v;e[30]!==s?(v=s("PTS"),e[30]=s,e[31]=v):v=e[31];let j;e[32]!==se||e[33]!==v?(j=t.jsxs("p",{className:"text-2xl font-bold",children:[se," ",v]}),e[32]=se,e[33]=v,e[34]=j):j=e[34];let k;e[35]!==g||e[36]!==j?(k=t.jsxs("div",{className:"text-left",children:[g,j]}),e[35]=g,e[36]=j,e[37]=k):k=e[37];let w;e[38]!==s?(w=s("Record"),e[38]=s,e[39]=w):w=e[39];let N;e[40]!==w?(N=t.jsx("p",{className:"text-xs font-semibold tracking-wider text-slate-500 uppercase",children:w}),e[40]=w,e[41]=N):N=e[41];const le=l.wins||0,re=l.losses||0;let y;e[42]!==le||e[43]!==re?(y=t.jsxs("p",{className:"text-lg font-medium text-green-600 dark:text-green-400",children:[le,"W - ",re,"L"]}),e[42]=le,e[43]=re,e[44]=y):y=e[44];let _;e[45]!==N||e[46]!==y?(_=t.jsxs("div",{className:"text-right",children:[N,y]}),e[45]=N,e[46]=y,e[47]=_):_=e[47];let L;e[48]!==k||e[49]!==_?(L=t.jsxs("div",{className:"mb-6 flex items-center justify-between border-b border-slate-200 pb-6 dark:border-white/5",children:[k,_]}),e[48]=k,e[49]=_,e[50]=L):L=e[50];const ae=d||(l.points||0)<10,ie=`group relative w-full overflow-hidden rounded-xl p-[1px] transition-all ${(l.points||0)<10?"cursor-not-allowed bg-slate-300 opacity-50 dark:bg-slate-700":"bg-gradient-to-r from-blue-600 to-violet-600 hover:scale-[1.02] active:scale-[0.98]"}`,oe=`relative flex h-14 items-center justify-center gap-3 rounded-[11px] transition-colors ${(l.points||0)<10?"bg-slate-100 dark:bg-slate-900":"bg-slate-50 group-hover:bg-transparent dark:bg-slate-950/50"}`;let M;e[51]!==d||e[52]!==s||e[53]!==l.points?(M=d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-400 border-t-slate-800 dark:border-white/30 dark:border-t-white"}),t.jsx("span",{className:"font-semibold tracking-wide text-slate-800 dark:text-white",children:s("Finding Match...")})]}):(l.points||0)<10?t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),t.jsx("span",{className:"text-lg font-semibold tracking-wide text-slate-500 dark:text-slate-400",children:s("Need 10 Points")})]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"h-6 w-6 text-slate-800 dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),t.jsx("span",{className:"text-lg font-semibold tracking-wide text-slate-800 dark:text-white",children:s("Find Match")})]}),e[51]=d,e[52]=s,e[53]=l.points,e[54]=M):M=e[54];let S;e[55]!==oe||e[56]!==M?(S=t.jsx("div",{className:oe,children:M}),e[55]=oe,e[56]=M,e[57]=S):S=e[57];let C;e[58]!==te||e[59]!==ae||e[60]!==ie||e[61]!==S?(C=t.jsx("button",{onClick:te,disabled:ae,className:ie,children:S}),e[58]=te,e[59]=ae,e[60]=ie,e[61]=S,e[62]=C):C=e[62];let P;e[63]!==s?(P=s("Average wait time"),e[63]=s,e[64]=P):P=e[64];let z;e[65]!==P?(z=t.jsxs("div",{className:"mt-4 text-center text-xs text-slate-500",children:[P,": < 10s"]}),e[65]=P,e[66]=z):z=e[66];let A;e[67]!==L||e[68]!==C||e[69]!==z?(A=t.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/50 p-6 shadow-xl backdrop-blur-xl dark:border-white/10 dark:bg-slate-900/50",children:[L,C,z]}),e[67]=L,e[68]=C,e[69]=z,e[70]=A):A=e[70];let K;e[71]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("div",{className:"mb-2 origin-left text-purple-600 transition-transform group-hover:scale-110 dark:text-purple-400",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),e[71]=K):K=e[71];let B;e[72]!==s?(B=s("Practice Mode"),e[72]=s,e[73]=B):B=e[73];let E;e[74]!==B?(E=t.jsxs("button",{className:"group rounded-xl border border-slate-200 bg-white/50 p-4 text-left transition-colors hover:border-purple-400/50 dark:border-white/5 dark:bg-slate-900/50 dark:hover:border-white/20",children:[K,t.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-white",children:B})]}),e[74]=B,e[75]=E):E=e[75];let X;e[76]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("div",{className:"mb-2 origin-left text-blue-600 transition-transform group-hover:scale-110 dark:text-blue-400",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e[76]=X):X=e[76];let $;e[77]!==s?($=s("Leaderboard"),e[77]=s,e[78]=$):$=e[78];let F;e[79]!==$?(F=t.jsxs(fe,{href:"/leaderboard",className:"group rounded-xl border border-slate-200 bg-white/50 p-4 text-left transition-colors hover:border-blue-400/50 dark:border-white/5 dark:bg-slate-900/50 dark:hover:border-white/20",children:[X,t.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-white",children:$})]}),e[79]=$,e[80]=F):F=e[80];let H;e[81]!==E||e[82]!==F?(H=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E,F]}),e[81]=E,e[82]=F,e[83]=H):H=e[83];let R;e[84]!==b||e[85]!==A||e[86]!==H?(R=t.jsxs("div",{className:"space-y-8 text-center md:text-left",children:[b,A,H]}),e[84]=b,e[85]=A,e[86]=H,e[87]=R):R=e[87];let Z;e[88]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("span",{className:"mr-2 h-2 w-2 animate-pulse rounded-full bg-green-500"}),e[88]=Z):Z=e[88];let V;e[89]!==s?(V=s("Active Players"),e[89]=s,e[90]=V):V=e[90];let W;e[91]!==a.length||e[92]!==V?(W=t.jsxs("h2",{className:"mb-4 flex items-center text-xl font-bold text-slate-800 dark:text-white",children:[Z,V," (",a.length,")"]}),e[91]=a.length,e[92]=V,e[93]=W):W=e[93];let I;if(e[94]!==a||e[95]!==s||e[96]!==l.id){let i;e[98]!==s||e[99]!==l.id?(i=o=>t.jsxs("div",{className:"flex items-center space-x-3 rounded-lg border border-slate-200 bg-white/40 p-3 transition-colors hover:bg-white/60 dark:border-white/5 dark:bg-white/5 dark:hover:bg-white/10",children:[t.jsx("img",{src:o.data.profile_photo_url||`https://ui-avatars.com/api/?name=${o.data.name}`,alt:o.data.name,className:"h-10 w-10 rounded-full object-cover ring-2 ring-white/20"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[o.data.name," ",o.data.id==l.id&&t.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["(",s("You"),")"]})]}),t.jsx("p",{className:"text-xs text-slate-500",children:s("Online")})]})]},o.clientId),e[98]=s,e[99]=l.id,e[100]=i):i=e[100],I=a.map(i),e[94]=a,e[95]=s,e[96]=l.id,e[97]=I}else I=e[97];let T;e[101]!==a.length||e[102]!==s?(T=a.length===0&&t.jsx("div",{className:"py-10 text-center text-slate-500",children:s("Connecting...")}),e[101]=a.length,e[102]=s,e[103]=T):T=e[103];let U;e[104]!==I||e[105]!==T?(U=t.jsxs("div",{className:"custom-scrollbar max-h-[500px] space-y-2 overflow-y-auto pr-2",children:[I,T]}),e[104]=I,e[105]=T,e[106]=U):U=e[106];let q;e[107]!==W||e[108]!==U?(q=t.jsxs("div",{className:"h-full min-h-[400px] rounded-2xl border border-slate-200 bg-white/30 p-6 backdrop-blur-md dark:border-white/5 dark:bg-slate-900/30",children:[W,U]}),e[107]=W,e[108]=U,e[109]=q):q=e[109];let ee;return e[110]!==R||e[111]!==q?(ee=t.jsxs("div",{className:"relative flex min-h-screen flex-col items-center overflow-hidden bg-slate-50 p-0 text-slate-900 transition-colors duration-300 dark:bg-slate-950 dark:text-white",children:[D,G,J,t.jsxs("div",{className:"z-10 mt-8 grid w-full max-w-4xl grid-cols-1 items-start gap-8 p-6 md:grid-cols-2",children:[R,q]})]}),e[110]=R,e[111]=q,e[112]=ee):ee=e[112],ee}function Ne(e){const{match_id:s}=e.data;pe.visit(`/arena/${s}`)}function ye(e){return[e.clientId,e]}export{ze as default};
