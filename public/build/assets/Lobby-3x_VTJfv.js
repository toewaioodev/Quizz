import{c as B,j as s,C as W,u as E,k as R,r as A,h as V,i as F,H as U,E as T,L as I}from"./app-DJDsF77k.js";import{N as q}from"./Navbar-DPSuHTc8.js";/* empty css            */function te(){const t=B.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx(W,{channelName:"global-presence",children:s.jsx(O,{})}),t[0]=e):e=t[0],e}function O(){const t=B.c(41),{t:e}=E(),r=R().props.auth.user,[d,u]=A.useState(!1);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[0]=l):l=t[0];const[h,x]=A.useState(l),{channel:a}=V("global-presence");let n,c;t[1]!==a?(n=()=>{if(!a)return;const f=async()=>{try{const C=await a.presence.get(),z=Array.from(new Map(C.filter(D).map(Y)).values());x(z)}catch(C){console.error("Error fetching presence:",C)}};return a.presence.subscribe("enter",f),a.presence.subscribe("leave",f),a.presence.subscribe("update",f),f(),()=>{a.presence.unsubscribe()}},c=[a],t[1]=a,t[2]=n,t[3]=c):(n=t[2],c=t[3]),A.useEffect(n,c);let o;t[4]!==e?(o=f=>{F.post("/match/invite",{user_id:f}).then(()=>{alert(e("Invitation sent!"))}).catch(C=>{console.error(C),alert(e("Failed to send invitation."))})},t[4]=e,t[5]=o):o=t[5];const m=o;let i;t[6]!==a.presence||t[7]!==e||t[8]!==r.id||t[9]!==r.name||t[10]!==r.profile_photo_url?(i=()=>{u(!0),a.presence.update({name:r.name,id:r.id,profile_photo_url:r.profile_photo_url,status:"searching"}),F.post("/match/find").then(Q).catch(f=>{console.error("Matchmaking failed:",f),f.response?.status===403&&alert(e(f.response.data.message)),u(!1),a.presence.update({name:r.name,id:r.id,profile_photo_url:r.profile_photo_url,status:"online"})})},t[6]=a.presence,t[7]=e,t[8]=r.id,t[9]=r.name,t[10]=r.profile_photo_url,t[11]=i):i=t[11];const p=i;let w,N;t[12]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(U,{title:"Battle Lobby"}),N=s.jsx(q,{}),t[12]=w,t[13]=N):(w=t[12],N=t[13]);let $;t[14]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[s.jsx("div",{className:"absolute -left-[20%] -top-[20%] h-[800px] w-[800px] animate-pulse rounded-full bg-indigo-600/20 blur-[120px]"}),s.jsx("div",{className:"absolute -bottom-[20%] -right-[20%] h-[800px] w-[800px] animate-pulse rounded-full bg-blue-600/20 blur-[120px] delay-1000"}),s.jsx("div",{className:"absolute inset-0 bg-[url('/images/grid.svg')] bg-center opacity-10 [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"})]}),t[14]=$):$=t[14];let b;t[15]!==e?(b=e("Quiz Battle"),t[15]=e,t[16]=b):b=t[16];let y;t[17]!==b?(y=s.jsx("h1",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-5xl font-black tracking-tighter text-transparent",children:b}),t[17]=b,t[18]=y):y=t[18];let L;t[19]!==e?(L=e("Compete in real-time 1v1 matches."),t[19]=e,t[20]=L):L=t[20];let g;t[21]!==L?(g=s.jsx("p",{className:"text-lg text-slate-400 max-w-md",children:L}),t[21]=L,t[22]=g):g=t[22];let v;t[23]!==g||t[24]!==y?(v=s.jsxs("div",{className:"space-y-2",children:[y,g]}),t[23]=g,t[24]=y,t[25]=v):v=t[25];let j;t[26]!==p||t[27]!==d||t[28]!==r?(j=s.jsx(G,{user:r,searching:d,findMatch:p}),t[26]=p,t[27]=d,t[28]=r,t[29]=j):j=t[29];let _;t[30]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(J,{}),t[30]=_):_=t[30];let M;t[31]!==v||t[32]!==j?(M=s.jsxs("div",{className:"flex flex-col gap-8 md:col-span-7",children:[v,j,_]}),t[31]=v,t[32]=j,t[33]=M):M=t[33];let S;t[34]!==h||t[35]!==m||t[36]!==r?(S=s.jsx("div",{className:"h-full md:col-span-5",children:s.jsx(K,{activeUsers:h,user:r,handleInvite:m})}),t[34]=h,t[35]=m,t[36]=r,t[37]=S):S=t[37];let k;return t[38]!==M||t[39]!==S?(k=s.jsxs("div",{className:"relative flex min-h-screen flex-col items-center overflow-hidden bg-slate-950 font-sans text-white selection:bg-indigo-500 selection:text-white",children:[w,N,$,s.jsxs("div",{className:"z-10 mt-8 grid w-full max-w-6xl grid-cols-1 items-start gap-8 p-4 md:grid-cols-12 md:p-8",children:[M,S]})]}),t[38]=M,t[39]=S,t[40]=k):k=t[40],k}function Q(t){const{match_id:e}=t.data;T.visit(`/arena/${e}`)}function Y(t){return[t.clientId,t.data]}function D(t){return t.data}const G=A.memo(t=>{const e=B.c(49),{user:r,searching:d,findMatch:u}=t,{t:l}=E(),h=(r.points||0)>=10;let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-blue-500/10 blur-3xl"}),e[0]=x):x=e[0];let a;e[1]!==l?(a=l("My Rank"),e[1]=l,e[2]=a):a=e[2];let n;e[3]!==a?(n=s.jsx("p",{className:"text-xs font-bold tracking-widest text-slate-400 uppercase",children:a}),e[3]=a,e[4]=n):n=e[4];const c=r.points||0;let o;e[5]!==c?(o=s.jsx("span",{className:"text-4xl font-black text-white",children:c}),e[5]=c,e[6]=o):o=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("span",{className:"text-sm font-bold text-blue-400",children:"PTS"}),e[7]=m):m=e[7];let i;e[8]!==o?(i=s.jsxs("div",{className:"flex items-baseline gap-1",children:[o,m]}),e[8]=o,e[9]=i):i=e[9];let p;e[10]!==n||e[11]!==i?(p=s.jsxs("div",{children:[n,i]}),e[10]=n,e[11]=i,e[12]=p):p=e[12];let w;e[13]!==l?(w=l("Record"),e[13]=l,e[14]=w):w=e[14];let N;e[15]!==w?(N=s.jsx("p",{className:"text-xs font-bold tracking-widest text-slate-400 uppercase",children:w}),e[15]=w,e[16]=N):N=e[16];const $=r.wins||0;let b;e[17]!==$?(b=s.jsxs("span",{className:"rounded bg-green-500/20 px-2 py-0.5 text-sm font-bold text-green-400",children:[$,"W"]}),e[17]=$,e[18]=b):b=e[18];let y;e[19]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("span",{className:"text-slate-600",children:"/"}),e[19]=y):y=e[19];const L=r.losses||0;let g;e[20]!==L?(g=s.jsxs("span",{className:"rounded bg-red-500/20 px-2 py-0.5 text-sm font-bold text-red-400",children:[L,"L"]}),e[20]=L,e[21]=g):g=e[21];let v;e[22]!==b||e[23]!==g?(v=s.jsxs("div",{className:"flex items-center gap-2",children:[b,y,g]}),e[22]=b,e[23]=g,e[24]=v):v=e[24];let j;e[25]!==N||e[26]!==v?(j=s.jsxs("div",{className:"text-right",children:[N,v]}),e[25]=N,e[26]=v,e[27]=j):j=e[27];let _;e[28]!==j||e[29]!==p?(_=s.jsxs("div",{className:"relative z-10 mb-8 flex items-center justify-between",children:[p,j]}),e[28]=j,e[29]=p,e[30]=_):_=e[30];const M=d||!h,S=`group relative w-full overflow-hidden rounded-2xl p-[1px] transition-all hover:scale-[1.01] active:scale-[0.99] ${h?"bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 shadow-lg shadow-indigo-500/20":"cursor-not-allowed opacity-50 grayscale"}`;let k;e[31]!==h||e[32]!==d||e[33]!==l?(k=s.jsx("div",{className:"relative flex h-16 w-full items-center justify-center gap-3 rounded-2xl bg-slate-900/90 backdrop-blur-sm transition-colors group-hover:bg-transparent",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-white/30 border-t-white"}),s.jsx("span",{className:"font-bold tracking-wide text-white",children:l("Finding Match...")})]}):h?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl font-black tracking-wide text-white group-hover:text-white uppercase italic",children:l("Find Match")}),s.jsx("svg",{className:"h-6 w-6 text-indigo-400 group-hover:text-white transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("span",{className:"font-bold text-slate-400",children:l("Need 10 Points")})]})}),e[31]=h,e[32]=d,e[33]=l,e[34]=k):k=e[34];let f;e[35]!==u||e[36]!==M||e[37]!==S||e[38]!==k?(f=s.jsx("button",{onClick:u,disabled:M,className:S,children:k}),e[35]=u,e[36]=M,e[37]=S,e[38]=k,e[39]=f):f=e[39];let C;e[40]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-green-500"})]}),e[40]=C):C=e[40];let z;e[41]!==l?(z=l("Average wait time"),e[41]=l,e[42]=z):z=e[42];let P;e[43]!==z?(P=s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-white/5 bg-white/5 px-3 py-1 text-[10px] font-medium text-slate-400",children:[C,z,": < 10s"]})}),e[43]=z,e[44]=P):P=e[44];let H;return e[45]!==_||e[46]!==f||e[47]!==P?(H=s.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-xl",children:[x,_,f,P]}),e[45]=_,e[46]=f,e[47]=P,e[48]=H):H=e[48],H}),J=A.memo(()=>{const t=B.c(27),{t:e}=E();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-purple-500/20 text-purple-400 transition-colors group-hover:bg-purple-500 group-hover:text-white",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),t[0]=r):r=t[0];let d;t[1]!==e?(d=e("Practice Mode"),t[1]=e,t[2]=d):d=t[2];let u;t[3]!==d?(u=s.jsx("h3",{className:"font-bold text-white group-hover:text-purple-300 transition-colors",children:d}),t[3]=d,t[4]=u):u=t[4];let l;t[5]!==e?(l=e("Hone your skills solo"),t[5]=e,t[6]=l):l=t[6];let h;t[7]!==l?(h=s.jsx("p",{className:"mt-1 text-xs text-slate-400",children:l}),t[7]=l,t[8]=h):h=t[8];let x;t[9]!==u||t[10]!==h?(x=s.jsxs(I,{href:"/",className:"group relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-6 transition-all hover:bg-white/10",children:[r,u,h]}),t[9]=u,t[10]=h,t[11]=x):x=t[11];let a;t[12]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-blue-500/20 text-blue-400 transition-colors group-hover:bg-blue-500 group-hover:text-white",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t[12]=a):a=t[12];let n;t[13]!==e?(n=e("Leaderboard"),t[13]=e,t[14]=n):n=t[14];let c;t[15]!==n?(c=s.jsx("h3",{className:"font-bold text-white group-hover:text-blue-300 transition-colors",children:n}),t[15]=n,t[16]=c):c=t[16];let o;t[17]!==e?(o=e("See top players"),t[17]=e,t[18]=o):o=t[18];let m;t[19]!==o?(m=s.jsx("p",{className:"mt-1 text-xs text-slate-400",children:o}),t[19]=o,t[20]=m):m=t[20];let i;t[21]!==m||t[22]!==c?(i=s.jsxs(I,{href:"/leaderboard",className:"group relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-6 transition-all hover:bg-white/10",children:[a,c,m]}),t[21]=m,t[22]=c,t[23]=i):i=t[23];let p;return t[24]!==i||t[25]!==x?(p=s.jsxs("div",{className:"grid grid-cols-2 gap-4 md:gap-6",children:[x,i]}),t[24]=i,t[25]=x,t[26]=p):p=t[26],p}),K=A.memo(t=>{const e=B.c(18),{activeUsers:r,user:d,handleInvite:u}=t,{t:l}=E();let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-green-500"})]}),e[0]=h):h=e[0];let x;e[1]!==l?(x=l("Active Players"),e[1]=l,e[2]=x):x=e[2];let a;e[3]!==r.length?(a=s.jsx("span",{className:"ml-auto rounded-full bg-white/10 px-2 py-0.5 text-xs text-slate-300",children:r.length}),e[3]=r.length,e[4]=a):a=e[4];let n;e[5]!==x||e[6]!==a?(n=s.jsx("div",{className:"border-b border-white/5 p-6",children:s.jsxs("h2",{className:"flex items-center gap-3 text-lg font-bold text-white",children:[h,x,a]})}),e[5]=x,e[6]=a,e[7]=n):n=e[7];let c;e[8]!==r||e[9]!==u||e[10]!==l||e[11]!==d?(c=r.length===0?s.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-slate-500",children:[s.jsx("div",{className:"mb-4 rounded-full bg-white/5 p-4",children:s.jsx("svg",{className:"h-8 w-8 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("p",{children:l("No active players yet.")})]}):r.map(i=>s.jsxs("div",{className:`group flex items-center gap-4 rounded-2xl border border-transparent p-3 transition-all hover:bg-white/5 ${i.id===d.id?"bg-white/5 border-white/5":""}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:i.profile_photo_url||`https://ui-avatars.com/api/?name=${i.name}`,alt:i.name,className:"h-10 w-10 rounded-full object-cover ring-2 ring-white/10 transition-all group-hover:ring-white/30"}),s.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-slate-900 ${i.status==="playing"?"bg-orange-500":i.status==="searching"?"bg-blue-500":"bg-green-500"}`})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[s.jsxs("p",{className:"truncate text-sm font-bold text-slate-200",children:[i.name,i.id==d.id&&s.jsxs("span",{className:"ml-2 text-xs font-normal text-slate-500",children:["(",l("You"),")"]})]}),s.jsx("p",{className:"text-xs text-slate-500",children:i.status==="playing"?l("In Match"):i.status==="searching"?l("Searching..."):l("Online")})]}),i.id!=d.id&&i.status!=="playing"&&s.jsx("button",{onClick:()=>u(i.id),className:"rounded-xl bg-white/5 px-3 py-1.5 text-xs font-bold text-white transition-colors hover:bg-blue-600",children:l("Invite")})]},i.id)),e[8]=r,e[9]=u,e[10]=l,e[11]=d,e[12]=c):c=e[12];let o;e[13]!==c?(o=s.jsx("div",{className:"custom-scrollbar flex-1 overflow-y-auto p-4 space-y-2",children:c}),e[13]=c,e[14]=o):o=e[14];let m;return e[15]!==n||e[16]!==o?(m=s.jsxs("div",{className:"flex h-full min-h-[500px] flex-col overflow-hidden rounded-3xl border border-white/10 bg-slate-900/50 backdrop-blur-md",children:[n,o]}),e[15]=n,e[16]=o,e[17]=m):m=e[17],m});export{te as default};
