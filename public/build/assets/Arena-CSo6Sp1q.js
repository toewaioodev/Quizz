import{a as Se,b as xe,d as be,r as W,e as Te,f as ve,I as me,g as ke,c as ne,u as le,j as r,h as ge,i as oe,C as pe,k as Ae,H as Ce}from"./app-BbfC0ngc.js";/* empty css            */function Ie(s,e){const i=typeof s=="object"?s:{channelName:s},n=i.skip,l=Se(i.ablyId),{channel:c}=xe(i.ablyId,i.channelName),{connectionError:f,channelError:o}=be(i),u=W.useRef(e);W.useEffect(()=>{u.current=e},[e]);const[x,d]=W.useState(c.state);Te(i,M=>{d(M.current)});const{connectionState:g}=ve(c,i.ablyId,n),E=me.includes(g)||ke.includes(x)||n;return W.useEffect(()=>E?void 0:((async()=>{await c.presence.enter(u.current)})(),()=>{const j=!me.includes(l.connection.state);["attached","attaching"].includes(c.state)&&j&&c.presence.leave()}),[E,c,l]),{updateStatus:W.useCallback(async M=>{await c.presence.update(M)},[c]),connectionError:f,channelError:o}}function Oe(s,e){const i=typeof s=="object"?s:{channelName:s},n=i.skip,{channel:l}=xe(i.ablyId,i.channelName),{connectionError:c,channelError:f}=be(i),[o,u]=W.useState([]),x=W.useRef(e);W.useEffect(()=>{x.current=e},[e]);const d=W.useCallback(async R=>{var M;const j=await l.presence.get();u(j),(M=x.current)===null||M===void 0||M.call(x,R)},[l.presence]),g=W.useCallback(async()=>{l.presence.subscribe(["enter","leave","update"],d);const R=await l.presence.get();u(R)},[l.presence,d]),E=W.useCallback(async()=>{l.presence.unsubscribe(["enter","leave","update"],d)},[l.presence,d]);return W.useEffect(()=>{if(!n)return g(),()=>{E()}},[n,g,E]),ve(l,i.ablyId,n),{presenceData:o,connectionError:c,channelError:f}}function Pe(s){const e=ne.c(56),{user:i,opponent:n,score:l,opponentScore:c,timer:f,currentQuestionIndex:o,status:u,opponentPresent:x}=s,d=o===void 0?0:o,{t:g}=le();let E,R;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=r.jsx("div",{className:"pointer-events-none absolute -left-10 top-0 h-24 w-24 bg-blue-500/20 blur-[50px]"}),R=r.jsx("div",{className:"pointer-events-none absolute -right-10 bottom-0 h-24 w-24 bg-purple-500/20 blur-[50px]"}),e[0]=E,e[1]=R):(E=e[0],R=e[1]);const M=i.profile_photo_url||i.avatar;let j;e[2]!==M||e[3]!==i.name?(j=r.jsx("div",{className:"h-10 w-10 overflow-hidden rounded-full ring-2 ring-blue-500/50 md:h-14 md:w-14 md:ring-4",children:r.jsx("img",{src:M,alt:i.name,className:"h-full w-full object-cover"})}),e[2]=M,e[3]=i.name,e[4]=j):j=e[4];let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=r.jsx("div",{className:"absolute -bottom-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-slate-900 text-[8px] md:h-5 md:w-5 md:text-[10px]",children:"ðŸ”µ"}),e[5]=b):b=e[5];let $;e[6]!==j?($=r.jsxs("div",{className:"relative",children:[j,b]}),e[6]=j,e[7]=$):$=e[7];let Q;e[8]!==i.name?(Q=r.jsx("span",{className:"max-w-[70px] truncate text-xs font-bold text-white md:max-w-[120px] md:text-base",children:i.name}),e[8]=i.name,e[9]=Q):Q=e[9];let k;e[10]===Symbol.for("react.memo_cache_sentinel")?(k=r.jsx("span",{className:"text-[10px] font-black tracking-wide md:text-xs",children:"PTS"}),e[10]=k):k=e[10];let S;e[11]!==l?(S=r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("div",{className:"flex items-center rounded-md bg-blue-500/20 px-1.5 py-0.5 text-blue-300 md:px-2 md:py-1",children:[k,r.jsx("span",{className:"ml-1 text-xs font-black text-white md:ml-1.5 md:text-sm",children:l})]})}),e[11]=l,e[12]=S):S=e[12];let T;e[13]!==S||e[14]!==Q?(T=r.jsxs("div",{className:"flex flex-col",children:[Q,S]}),e[13]=S,e[14]=Q,e[15]=T):T=e[15];let I;e[16]!==T||e[17]!==$?(I=r.jsxs("div",{className:"flex flex-1 items-center gap-2 md:gap-4",children:[$,T]}),e[16]=T,e[17]=$,e[18]=I):I=e[18];let O;e[19]!==u||e[20]!==f?(O=r.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:u==="QUESTION_ACTIVE"||u==="ROUND_RESULT"?r.jsxs("div",{className:"relative flex items-center justify-center",children:[f<=5&&r.jsx("div",{className:"absolute h-full w-full animate-ping rounded-full bg-red-500/30 opacity-75"}),r.jsxs("div",{className:"relative h-14 w-14 md:h-20 md:w-20",children:[r.jsxs("svg",{className:"h-full w-full -rotate-90 transform",viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-slate-700/50"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:283-283*f/15,className:`transition-all duration-1000 ease-linear ${f<=5?"text-red-500 shadow-red-500 drop-shadow-[0_0_10px_rgba(239,68,68,0.8)]":"text-blue-500 drop-shadow-[0_0_8px_rgba(59,130,246,0.6)]"}`})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:`text-xl font-black md:text-3xl ${f<=5?"scale-110 text-red-400":"text-white"} transition-all`,children:f})})]})]}):r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/5 font-black text-slate-500 backdrop-blur-md md:h-16 md:w-16",children:r.jsx("span",{className:"text-sm md:text-xl",children:"VS"})})}),e[19]=u,e[20]=f,e[21]=O):O=e[21];let C;e[22]!==n||e[23]!==g?(C=n?n.name:g("Waiting..."),e[22]=n,e[23]=g,e[24]=C):C=e[24];let U;e[25]!==C?(U=r.jsx("span",{className:"max-w-[70px] truncate text-xs font-bold text-white md:max-w-[120px] md:text-base",children:C}),e[25]=C,e[26]=U):U=e[26];let z;e[27]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsx("span",{className:"text-[10px] font-black tracking-wide md:text-xs",children:"PTS"}),e[27]=z):z=e[27];let L;e[28]!==c?(L=r.jsx("div",{className:"flex items-center gap-1",children:r.jsxs("div",{className:"flex items-center rounded-md bg-purple-500/20 px-1.5 py-0.5 text-purple-300 md:px-2 md:py-1",children:[z,r.jsx("span",{className:"ml-1 text-xs font-black text-white md:ml-1.5 md:text-sm",children:c})]})}),e[28]=c,e[29]=L):L=e[29];let A;e[30]!==U||e[31]!==L?(A=r.jsxs("div",{className:"flex flex-col items-end",children:[U,L]}),e[30]=U,e[31]=L,e[32]=A):A=e[32];const V=`h-10 w-10 overflow-hidden rounded-full ring-2 transition-all md:h-14 md:w-14 md:ring-4 ${n?"ring-purple-500/50":"ring-slate-700"}`;let P;e[33]!==n?(P=n?r.jsx("img",{src:n.profile_photo_url||n.avatar,alt:n.name,className:"h-full w-full object-cover"}):r.jsx("div",{className:"flex h-full w-full animate-pulse items-center justify-center bg-slate-800 text-slate-500",children:"?"}),e[33]=n,e[34]=P):P=e[34];let B;e[35]!==V||e[36]!==P?(B=r.jsx("div",{className:V,children:P}),e[35]=V,e[36]=P,e[37]=B):B=e[37];let q;e[38]!==n||e[39]!==x?(q=n&&r.jsx("div",{className:`absolute -bottom-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full border-2 border-slate-900 md:h-5 md:w-5 ${x?"bg-green-500":"bg-red-500"}`}),e[38]=n,e[39]=x,e[40]=q):q=e[40];let Z;e[41]!==B||e[42]!==q?(Z=r.jsxs("div",{className:"relative",children:[B,q]}),e[41]=B,e[42]=q,e[43]=Z):Z=e[43];let K;e[44]!==A||e[45]!==Z?(K=r.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 md:gap-4",children:[A,Z]}),e[44]=A,e[45]=Z,e[46]=K):K=e[46];let te;e[47]!==I||e[48]!==O||e[49]!==K?(te=r.jsxs("div",{className:"relative flex items-center justify-between overflow-hidden rounded-3xl border border-white/10 bg-slate-900/40 p-3 shadow-2xl backdrop-blur-xl transition-all md:p-4",children:[E,R,I,O,K]}),e[47]=I,e[48]=O,e[49]=K,e[50]=te):te=e[50];let a;e[51]!==d?(a=d>0&&r.jsx("div",{className:"mt-2 flex justify-center",children:r.jsxs("div",{className:"rounded-full bg-black/30 px-3 py-1 text-[10px] font-bold tracking-[0.2em] text-white/50 backdrop-blur-sm uppercase",children:["Round ",d,"/5"]})}),e[51]=d,e[52]=a):a=e[52];let t;return e[53]!==te||e[54]!==a?(t=r.jsxs("div",{className:"md:px-4 z-20 w-full max-w-5xl px-2",children:[te,a]}),e[53]=te,e[54]=a,e[55]=t):t=e[55],t}var ce={};(function s(e,i,n,l){var c=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),t=a.getContext("2d");t.fillRect(0,0,1,1);var h=a.transferToImageBitmap();t.createPattern(h,"no-repeat")}catch{return!1}return!0}();function u(){}function x(a){var t=i.exports.Promise,h=t!==void 0?t:e.Promise;return typeof h=="function"?new h(a):(a(u,u),null)}var d=function(a,t){return{transform:function(h){if(a)return h;if(t.has(h))return t.get(h);var p=new OffscreenCanvas(h.width,h.height),v=p.getContext("2d");return v.drawImage(h,0,0),t.set(h,p),p},clear:function(){t.clear()}}}(o,new Map),g=function(){var a=Math.floor(16.666666666666668),t,h,p={},v=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(t=function(w){var y=Math.random();return p[y]=requestAnimationFrame(function m(N){v===N||v+a-1<N?(v=N,delete p[y],w()):p[y]=requestAnimationFrame(m)}),y},h=function(w){p[w]&&cancelAnimationFrame(p[w])}):(t=function(w){return setTimeout(w,a)},h=function(w){return clearTimeout(w)}),{frame:t,cancel:h}}(),E=function(){var a,t,h={};function p(v){function w(y,m){v.postMessage({options:y||{},callback:m})}v.init=function(m){var N=m.transferControlToOffscreen();v.postMessage({canvas:N},[N])},v.fire=function(m,N,D){if(t)return w(m,null),t;var H=Math.random().toString(36).slice(2);return t=x(function(F){function G(Y){Y.data.callback===H&&(delete h[H],v.removeEventListener("message",G),t=null,d.clear(),D(),F())}v.addEventListener("message",G),w(m,H),h[H]=G.bind(null,{data:{callback:H}})}),t},v.reset=function(){v.postMessage({reset:!0});for(var m in h)h[m](),delete h[m]}}return function(){if(a)return a;if(!n&&c){var v=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([v])))}catch(w){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",w),null}p(a)}return a}}(),R={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(a,t){return t?t(a):a}function j(a){return a!=null}function b(a,t,h){return M(a&&j(a[t])?a[t]:R[t],h)}function $(a){return a<0?0:Math.floor(a)}function Q(a,t){return Math.floor(Math.random()*(t-a))+a}function k(a){return parseInt(a,16)}function S(a){return a.map(T)}function T(a){var t=String(a).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:k(t.substring(0,2)),g:k(t.substring(2,4)),b:k(t.substring(4,6))}}function I(a){var t=b(a,"origin",Object);return t.x=b(t,"x",Number),t.y=b(t,"y",Number),t}function O(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function C(a){var t=a.getBoundingClientRect();a.width=t.width,a.height=t.height}function U(a){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=a,t}function z(a,t,h,p,v,w,y,m,N){a.save(),a.translate(t,h),a.rotate(w),a.scale(p,v),a.arc(0,0,1,y,m,N),a.restore()}function L(a){var t=a.angle*(Math.PI/180),h=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-t+(.5*h-Math.random()*h),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function A(a,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var h=t.tick++/t.totalTicks,p=t.x+t.random*t.tiltCos,v=t.y+t.random*t.tiltSin,w=t.wobbleX+t.random*t.tiltCos,y=t.wobbleY+t.random*t.tiltSin;if(a.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-h)+")",a.beginPath(),f&&t.shape.type==="path"&&typeof t.shape.path=="string"&&Array.isArray(t.shape.matrix))a.fill(Z(t.shape.path,t.shape.matrix,t.x,t.y,Math.abs(w-p)*.1,Math.abs(y-v)*.1,Math.PI/10*t.wobble));else if(t.shape.type==="bitmap"){var m=Math.PI/10*t.wobble,N=Math.abs(w-p)*.1,D=Math.abs(y-v)*.1,H=t.shape.bitmap.width*t.scalar,F=t.shape.bitmap.height*t.scalar,G=new DOMMatrix([Math.cos(m)*N,Math.sin(m)*N,-Math.sin(m)*D,Math.cos(m)*D,t.x,t.y]);G.multiplySelf(new DOMMatrix(t.shape.matrix));var Y=a.createPattern(d.transform(t.shape.bitmap),"no-repeat");Y.setTransform(G),a.globalAlpha=1-h,a.fillStyle=Y,a.fillRect(t.x-H/2,t.y-F/2,H,F),a.globalAlpha=1}else if(t.shape==="circle")a.ellipse?a.ellipse(t.x,t.y,Math.abs(w-p)*t.ovalScalar,Math.abs(y-v)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):z(a,t.x,t.y,Math.abs(w-p)*t.ovalScalar,Math.abs(y-v)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if(t.shape==="star")for(var _=Math.PI/2*3,J=4*t.scalar,X=8*t.scalar,ee=t.x,re=t.y,se=5,ae=Math.PI/se;se--;)ee=t.x+Math.cos(_)*X,re=t.y+Math.sin(_)*X,a.lineTo(ee,re),_+=ae,ee=t.x+Math.cos(_)*J,re=t.y+Math.sin(_)*J,a.lineTo(ee,re),_+=ae;else a.moveTo(Math.floor(t.x),Math.floor(t.y)),a.lineTo(Math.floor(t.wobbleX),Math.floor(v)),a.lineTo(Math.floor(w),Math.floor(y)),a.lineTo(Math.floor(p),Math.floor(t.wobbleY));return a.closePath(),a.fill(),t.tick<t.totalTicks}function V(a,t,h,p,v){var w=t.slice(),y=a.getContext("2d"),m,N,D=x(function(H){function F(){m=N=null,y.clearRect(0,0,p.width,p.height),d.clear(),v(),H()}function G(){n&&!(p.width===l.width&&p.height===l.height)&&(p.width=a.width=l.width,p.height=a.height=l.height),!p.width&&!p.height&&(h(a),p.width=a.width,p.height=a.height),y.clearRect(0,0,p.width,p.height),w=w.filter(function(Y){return A(y,Y)}),w.length?m=g.frame(G):F()}m=g.frame(G),N=F});return{addFettis:function(H){return w=w.concat(H),D},canvas:a,promise:D,reset:function(){m&&g.cancel(m),N&&N()}}}function P(a,t){var h=!a,p=!!b(t||{},"resize"),v=!1,w=b(t,"disableForReducedMotion",Boolean),y=c&&!!b(t||{},"useWorker"),m=y?E():null,N=h?O:C,D=a&&m?!!a.__confetti_initialized:!1,H=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,F;function G(_,J,X){for(var ee=b(_,"particleCount",$),re=b(_,"angle",Number),se=b(_,"spread",Number),ae=b(_,"startVelocity",Number),we=b(_,"decay",Number),ye=b(_,"gravity",Number),Ne=b(_,"drift",Number),de=b(_,"colors",S),je=b(_,"ticks",Number),ue=b(_,"shapes"),_e=b(_,"scalar"),Ee=!!b(_,"flat"),he=I(_),fe=ee,ie=[],Me=a.width*he.x,Re=a.height*he.y;fe--;)ie.push(L({x:Me,y:Re,angle:re,spread:se,startVelocity:ae,color:de[fe%de.length],shape:ue[Q(0,ue.length)],ticks:je,decay:we,gravity:ye,drift:Ne,scalar:_e,flat:Ee}));return F?F.addFettis(ie):(F=V(a,ie,N,J,X),F.promise)}function Y(_){var J=w||b(_,"disableForReducedMotion",Boolean),X=b(_,"zIndex",Number);if(J&&H)return x(function(ae){ae()});h&&F?a=F.canvas:h&&!a&&(a=U(X),document.body.appendChild(a)),p&&!D&&N(a);var ee={width:a.width,height:a.height};m&&!D&&m.init(a),D=!0,m&&(a.__confetti_initialized=!0);function re(){if(m){var ae={getBoundingClientRect:function(){if(!h)return a.getBoundingClientRect()}};N(ae),m.postMessage({resize:{width:ae.width,height:ae.height}});return}ee.width=ee.height=null}function se(){F=null,p&&(v=!1,e.removeEventListener("resize",re)),h&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,D=!1)}return p&&!v&&(v=!0,e.addEventListener("resize",re,!1)),m?m.fire(_,ee,se):G(_,ee,se)}return Y.reset=function(){m&&m.reset(),F&&F.reset()},Y}var B;function q(){return B||(B=P(null,{useWorker:!0,resize:!0})),B}function Z(a,t,h,p,v,w,y){var m=new Path2D(a),N=new Path2D;N.addPath(m,new DOMMatrix(t));var D=new Path2D;return D.addPath(N,new DOMMatrix([Math.cos(y)*v,Math.sin(y)*v,-Math.sin(y)*w,Math.cos(y)*w,h,p])),D}function K(a){if(!f)throw new Error("path confetti are not supported in this browser");var t,h;typeof a=="string"?t=a:(t=a.path,h=a.matrix);var p=new Path2D(t),v=document.createElement("canvas"),w=v.getContext("2d");if(!h){for(var y=1e3,m=y,N=y,D=0,H=0,F,G,Y=0;Y<y;Y+=2)for(var _=0;_<y;_+=2)w.isPointInPath(p,Y,_,"nonzero")&&(m=Math.min(m,Y),N=Math.min(N,_),D=Math.max(D,Y),H=Math.max(H,_));F=D-m,G=H-N;var J=10,X=Math.min(J/F,J/G);h=[X,0,0,X,-Math.round(F/2+m)*X,-Math.round(G/2+N)*X]}return{type:"path",path:t,matrix:h}}function te(a){var t,h=1,p="#000000",v='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?t=a:(t=a.text,h="scalar"in a?a.scalar:h,v="fontFamily"in a?a.fontFamily:v,p="color"in a?a.color:p);var w=10*h,y=""+w+"px "+v,m=new OffscreenCanvas(w,w),N=m.getContext("2d");N.font=y;var D=N.measureText(t),H=Math.ceil(D.actualBoundingBoxRight+D.actualBoundingBoxLeft),F=Math.ceil(D.actualBoundingBoxAscent+D.actualBoundingBoxDescent),G=2,Y=D.actualBoundingBoxLeft+G,_=D.actualBoundingBoxAscent+G;H+=G+G,F+=G+G,m=new OffscreenCanvas(H,F),N=m.getContext("2d"),N.font=y,N.fillStyle=p,N.fillText(t,Y,_);var J=1/h;return{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[J,0,0,J,-H*J/2,-F*J/2]}}i.exports=function(){return q().apply(this,arguments)},i.exports.reset=function(){q().reset()},i.exports.create=P,i.exports.shapeFromPath=K,i.exports.shapeFromText=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ce,!1);const De=ce.exports;ce.exports.create;const Ue=W.memo(s=>{const e=ne.c(50),{user:i,opponent:n,score:l,opponentScore:c,isWinner:f,isDraw:o}=s,{t:u}=le();let x,d;e[0]!==o||e[1]!==f?(x=()=>{f?(new Audio("/sounds/victory.mp3").play().catch(Fe),De({particleCount:150,spread:70,origin:{y:.6},colors:["#3b82f6","#8b5cf6","#10b981","#f59e0b"]})):o||new Audio("/sounds/defeat.mp3").play().catch(Le)},d=[f,o],e[0]=o,e[1]=f,e[2]=x,e[3]=d):(x=e[2],d=e[3]),W.useEffect(x,d);let g;e[4]!==o||e[5]!==f||e[6]!==u?(g=r.jsx("div",{className:"mb-8",children:f?r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-green-500/30 duration-1000"}),r.jsx("h1",{className:"bg-gradient-to-br from-yellow-300 to-yellow-600 bg-clip-text text-6xl font-black tracking-tighter text-transparent drop-shadow-2xl md:text-8xl",children:"VICTORY"}),r.jsx("div",{className:"mt-2 text-lg font-bold tracking-[0.5em] text-yellow-500 uppercase",children:u("Winner!")})]}):o?r.jsx("div",{children:r.jsx("h1",{className:"text-6xl font-black tracking-tighter text-slate-300 md:text-8xl",children:"DRAW"})}):r.jsxs("div",{children:[r.jsx("h1",{className:"text-6xl font-black tracking-tighter text-red-500 md:text-8xl",children:"DEFEAT"}),r.jsx("div",{className:"mt-2 text-lg font-bold tracking-[0.5em] text-red-400 uppercase",children:u("Better luck next time")})]})}),e[4]=o,e[5]=f,e[6]=u,e[7]=g):g=e[7];const E=i.profile_photo_url||i.avatar;let R;e[8]!==E||e[9]!==i.name?(R=r.jsx("div",{className:"overflow-hidden relative mb-4 h-20 w-20 rounded-full border-4 border-blue-500 shadow-xl shadow-blue-500/20 md:h-24 md:w-24",children:r.jsx("img",{src:E,alt:i.name,className:"h-full w-full object-cover"})}),e[8]=E,e[9]=i.name,e[10]=R):R=e[10];let M;e[11]!==l?(M=r.jsx("span",{className:"text-5xl font-black text-white",children:l}),e[11]=l,e[12]=M):M=e[12];let j;e[13]!==R||e[14]!==M?(j=r.jsxs("div",{className:"flex flex-col items-center",children:[R,M]}),e[13]=R,e[14]=M,e[15]=j):j=e[15];let b;e[16]===Symbol.for("react.memo_cache_sentinel")?(b=r.jsx("div",{className:"text-2xl font-black text-slate-600 italic",children:"VS"}),e[16]=b):b=e[16];const $=n?.profile_photo_url||n?.avatar,Q=n?.name;let k;e[17]!==Q||e[18]!==$?(k=r.jsx("div",{className:"overflow-hidden relative mb-4 h-20 w-20 rounded-full border-4 border-purple-500 shadow-xl shadow-purple-500/20 md:h-24 md:w-24",children:r.jsx("img",{src:$,alt:Q,className:"h-full w-full object-cover"})}),e[17]=Q,e[18]=$,e[19]=k):k=e[19];let S;e[20]!==c?(S=r.jsx("span",{className:"text-5xl font-black text-white",children:c}),e[20]=c,e[21]=S):S=e[21];let T;e[22]!==k||e[23]!==S?(T=r.jsxs("div",{className:"flex flex-col items-center",children:[k,S]}),e[22]=k,e[23]=S,e[24]=T):T=e[24];let I;e[25]!==T||e[26]!==j?(I=r.jsx("div",{className:"relative mb-10 w-full max-w-lg overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-8 backdrop-blur-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[j,b,T]})}),e[25]=T,e[26]=j,e[27]=I):I=e[27];let O;e[28]!==o||e[29]!==u?(O=!o&&r.jsx("button",{onClick:Be,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-xl bg-violet-600 px-6 py-4 font-bold text-white shadow-xl shadow-violet-600/30 transition-all hover:scale-[1.02] hover:bg-violet-500",children:r.jsx("span",{className:"relative z-10",children:u("Rematch")})}),e[28]=o,e[29]=u,e[30]=O):O=e[30];let C;e[31]!==u?(C=u("Back to Lobby"),e[31]=u,e[32]=C):C=e[32];let U;e[33]!==C?(U=r.jsx("span",{className:"relative z-10",children:C}),e[33]=C,e[34]=U):U=e[34];let z;e[35]===Symbol.for("react.memo_cache_sentinel")?(z=r.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-500 group-hover:translate-x-full"}),e[35]=z):z=e[35];let L;e[36]!==U?(L=r.jsxs("button",{onClick:Qe,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-xl bg-blue-600 px-6 py-4 font-bold text-white shadow-xl shadow-blue-600/30 transition-all hover:scale-[1.02] hover:bg-blue-500",children:[U,z]}),e[36]=U,e[37]=L):L=e[37];let A;e[38]!==u?(A=u("Home"),e[38]=u,e[39]=A):A=e[39];let V;e[40]!==A?(V=r.jsx("button",{onClick:We,className:"w-full rounded-xl border border-white/10 bg-white/5 px-6 py-4 font-bold text-slate-300 transition-all hover:bg-white/10 hover:text-white",children:A}),e[40]=A,e[41]=V):V=e[41];let P;e[42]!==O||e[43]!==L||e[44]!==V?(P=r.jsxs("div",{className:"flex w-full max-w-sm flex-col gap-3",children:[O,L,V]}),e[42]=O,e[43]=L,e[44]=V,e[45]=P):P=e[45];let B;return e[46]!==I||e[47]!==P||e[48]!==g?(B=r.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center animate-in zoom-in duration-500",children:[g,I,P]}),e[46]=I,e[47]=P,e[48]=g,e[49]=B):B=e[49],B});function Fe(s){return console.log("Audio play failed",s)}function Le(s){return console.log("Audio play failed",s)}function Be(){}function Qe(){return window.location.href="/lobby"}function We(){return window.location.href="/dashboard"}function $e(){const s=ne.c(13),{t:e}=le();let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-green-500/30 duration-700"}),s[0]=i):i=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsxs("div",{className:"relative h-40 w-40",children:[i,r.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-emerald-600 shadow-2xl shadow-green-500/50",children:r.jsx("span",{className:"text-6xl",children:"âš”ï¸"})})]}),s[1]=n):n=s[1];let l;s[2]!==e?(l=e("MATCH FOUND!"),s[2]=e,s[3]=l):l=s[3];let c;s[4]!==l?(c=r.jsx("h1",{className:"text-5xl font-black uppercase tracking-tighter text-white drop-shadow-lg",children:l}),s[4]=l,s[5]=c):c=s[5];let f;s[6]!==e?(f=e("Prepare for battle..."),s[6]=e,s[7]=f):f=s[7];let o;s[8]!==f?(o=r.jsx("p",{className:"mt-4 text-xl font-medium text-emerald-400",children:f}),s[8]=f,s[9]=o):o=s[9];let u;return s[10]!==c||s[11]!==o?(u=r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 animate-in zoom-in duration-300",children:[n,r.jsxs("div",{className:"text-center",children:[c,o]})]}),s[10]=c,s[11]=o,s[12]=u):u=s[12],u}const ze=W.memo(s=>{const e=ne.c(43),{currentQuestion:i,status:n,lastRoundResult:l,hasAnswered:c,opponentAnswered:f,submitAnswer:o,userAnswer:u}=s,{t:x,i18n:d}=le(),g=d.language==="my",E=g&&i.text_my?i.text_my:i.text,R=g&&i.options_my?i.options_my:i.options,M=Ve;let j,b;e[0]!==c||e[1]!==l||e[2]!==n||e[3]!==u?(j=()=>{n==="ROUND_RESULT"&&l&&c&&(l.correct_option===u?new Audio("/sounds/correct.mp3").play().catch(He):new Audio("/sounds/wrong.mp3").play().catch(Ge))},b=[n,l,c,u],e[0]=c,e[1]=l,e[2]=n,e[3]=u,e[4]=j,e[5]=b):(j=e[4],b=e[5]),W.useEffect(j,b);let $;e[6]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx("div",{className:"absolute -top-10 left-1/2 h-40 w-40 -translate-x-1/2 rounded-full bg-blue-500/20 blur-[50px]"}),e[6]=$):$=e[6];let Q;e[7]!==i.category?(Q=r.jsx("span",{className:"mb-4 inline-flex items-center rounded-full border border-blue-400/20 bg-blue-500/10 px-3 py-1 text-[10px] font-black tracking-widest text-blue-300 uppercase shadow-[0_0_10px_rgba(59,130,246,0.2)] md:text-xs",children:i.category}),e[7]=i.category,e[8]=Q):Q=e[8];let k;e[9]!==E?(k=r.jsx("h2",{className:"text-xl font-black leading-tight tracking-tight text-white md:text-3xl md:leading-snug",children:E}),e[9]=E,e[10]=k):k=e[10];let S;e[11]!==Q||e[12]!==k?(S=r.jsxs("div",{className:"relative mb-6 overflow-hidden rounded-3xl border border-white/10 bg-white/5 p-6 text-center shadow-2xl backdrop-blur-xl md:mb-10 md:p-10",children:[$,r.jsxs("div",{className:"relative z-10",children:[Q,k]})]}),e[11]=Q,e[12]=k,e[13]=S):S=e[13];let T;if(e[14]!==i.options||e[15]!==R||e[16]!==c||e[17]!==l?.correct_option||e[18]!==n||e[19]!==o||e[20]!==u){let z;e[22]!==i.options||e[23]!==c||e[24]!==l?.correct_option||e[25]!==n||e[26]!==o||e[27]!==u?(z=(L,A)=>{const V=i.options[A],P=u===V,B=l?.correct_option===V,q=n==="ROUND_RESULT";let Z="border-white/10 bg-white/5 text-slate-300 hover:bg-white/10 hover:border-white/20 hover:text-white",K=r.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/5 text-xs font-bold",children:String.fromCharCode(65+A)});return c&&(Z="opacity-50 cursor-default border-transparent bg-black/20 text-slate-500",P&&(Z="border-blue-500/50 bg-blue-500/20 text-blue-200 opacity-100 ring-2 ring-blue-500/30",K=r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500 text-white shadow-lg shadow-blue-500/40",children:r.jsxs("svg",{className:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}))),q&&(B?(Z="border-green-500 bg-green-500/20 text-white shadow-[0_0_30px_rgba(34,197,94,0.3)] scale-[1.02] z-10 ring-1 ring-green-400/50 opacity-100",K=r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-500 text-white shadow-lg shadow-green-500/40",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})):P?(Z="border-red-500/50 bg-red-500/20 text-red-200 ring-1 ring-red-500/30 opacity-80",K=r.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-red-500 text-white shadow-lg shadow-red-500/40",children:r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})):Z="opacity-30 grayscale border-transparent bg-black/20"),r.jsxs("button",{onClick:()=>o(i.options[A]),disabled:c||q,className:`group relative flex w-full items-center gap-4 overflow-hidden rounded-2xl border p-4 text-left transition-all duration-200 active:scale-[0.98] md:p-5 ${Z}`,style:{animationDelay:M(A)},children:[r.jsx("div",{className:"shrink-0",children:K}),r.jsx("span",{className:"text-base font-bold tracking-tight md:text-lg",children:L})]},A)},e[22]=i.options,e[23]=c,e[24]=l?.correct_option,e[25]=n,e[26]=o,e[27]=u,e[28]=z):z=e[28],T=R.map(z),e[14]=i.options,e[15]=R,e[16]=c,e[17]=l?.correct_option,e[18]=n,e[19]=o,e[20]=u,e[21]=T}else T=e[21];let I;e[29]!==T?(I=r.jsx("div",{className:"grid grid-cols-1 gap-3 md:gap-4",children:T}),e[29]=T,e[30]=I):I=e[30];let O;e[31]!==l||e[32]!==f?(O=f&&!l&&r.jsx("div",{className:"absolute -right-4 top-1/2 -translate-y-1/2 translate-x-full px-4 md:-right-10 md:px-0"}),e[31]=l,e[32]=f,e[33]=O):O=e[33];let C;e[34]!==l||e[35]!==f||e[36]!==x?(C=f&&!l&&r.jsxs("div",{className:"pointer-events-none fixed bottom-24 left-1/2 z-50 flex -translate-x-1/2 items-center gap-3 rounded-full border border-red-500/30 bg-red-500/10 px-6 py-2 backdrop-blur-md md:bottom-10",children:[r.jsxs("span",{className:"relative flex h-3 w-3",children:[r.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-red-500 opacity-75"}),r.jsx("span",{className:"relative inline-flex h-3 w-3 rounded-full bg-red-500"})]}),r.jsx("span",{className:"text-sm font-bold tracking-wide text-red-200 uppercase",children:x("Opponent Answered")})]}),e[34]=l,e[35]=f,e[36]=x,e[37]=C):C=e[37];let U;return e[38]!==C||e[39]!==S||e[40]!==I||e[41]!==O?(U=r.jsxs("div",{className:"flex w-full flex-col",children:[S,I,O,C]}),e[38]=C,e[39]=S,e[40]=I,e[41]=O,e[42]=U):U=e[42],U});function Ve(s){return`${s*10}ms`}function He(){}function Ge(){}function qe(){const s=ne.c(20),{t:e}=le();let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-blue-500/20 duration-1000"}),s[0]=i):i=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsxs("div",{className:"relative",children:[i,r.jsx("div",{className:"relative flex h-32 w-32 items-center justify-center rounded-full border border-white/10 bg-white/5 backdrop-blur-md",children:r.jsx("span",{className:"text-4xl",children:"ðŸ“¡"})})]}),s[1]=n):n=s[1];let l;s[2]!==e?(l=e("Searching for Opponent"),s[2]=e,s[3]=l):l=s[3];let c;s[4]!==l?(c=r.jsx("h2",{className:"bg-gradient-to-br from-white to-slate-400 bg-clip-text text-3xl font-bold text-transparent",children:l}),s[4]=l,s[5]=c):c=s[5];let f;s[6]!==e?(f=e("Connecting to global matchmaking server..."),s[6]=e,s[7]=f):f=s[7];let o;s[8]!==f?(o=r.jsx("p",{className:"mt-2 text-slate-400",children:f}),s[8]=f,s[9]=o):o=s[9];let u;s[10]!==c||s[11]!==o?(u=r.jsxs("div",{className:"text-center",children:[c,o]}),s[10]=c,s[11]=o,s[12]=u):u=s[12];let x;s[13]!==e?(x=e("Cancel"),s[13]=e,s[14]=x):x=s[14];let d;s[15]!==x?(d=r.jsx("button",{onClick:Ze,className:"mt-8 rounded-full border border-white/10 px-6 py-2 text-sm font-medium text-slate-400 hover:bg-white/5 hover:text-white transition-colors",children:x}),s[15]=x,s[16]=d):d=s[16];let g;return s[17]!==u||s[18]!==d?(g=r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 py-10",children:[n,u,d]}),s[17]=u,s[18]=d,s[19]=g):g=s[19],g}function Ze(){return window.history.back()}const Ye={status:"WAITING_FOR_OPPONENT",currentQuestion:null,timer:0,playerScores:{p1:0,p2:0},lastRoundResult:null,winnerId:null,opponentAnswered:!1,hasAnswered:!1,userAnswer:null,opponent:null,rematchRequested:!1,rematchByOpponent:!1};function Ke(s,e){switch(e.type){case"MATCH_FOUND":return{...s,status:"STARTING",opponent:e.payload.opponent};case"GAME_START":return{...s,status:"STARTING"};case"NEW_QUESTION":return{...s,status:"PREPARE_ROUND",currentQuestion:e.payload,timer:e.payload.time_limit,hasAnswered:!1,userAnswer:null,opponentAnswered:!1,lastRoundResult:null};case"START_QUESTION":return{...s,status:"QUESTION_ACTIVE"};case"TICK_TIMER":return{...s,timer:Math.max(s.timer-1,0)};case"OPPONENT_ANSWERED":return{...s,opponentAnswered:!0};case"PLAYER_ANSWERED":return{...s,hasAnswered:!0,userAnswer:e.payload};case"ROUND_RESULT":return{...s,status:"ROUND_RESULT",lastRoundResult:e.payload,playerScores:e.payload.player_scores};case"GAME_OVER":return{...s,status:"GAME_OVER",winnerId:e.payload.winner_id,playerScores:e.payload.final_scores};case"REMATCH_REQUESTED":return{...s,rematchByOpponent:!0};case"REMATCH_READY":return s;default:return s}}function Je(s,e,i,n){const[l,c]=W.useReducer(Ke,Ye);ge(`match:${e}`,d=>{switch(console.log("Event:",d.name,d.data),d.name){case"match-found":c({type:"MATCH_FOUND",payload:d.data});break;case"match:start":c({type:"GAME_START",payload:d.data});break;case"game:question":c({type:"NEW_QUESTION",payload:d.data});break;case"game:answered":d.data.clientId!==String(i)&&c({type:"OPPONENT_ANSWERED"});break;case"game:round_result":c({type:"ROUND_RESULT",payload:d.data}),n&&setTimeout(()=>u(),1500);break;case"game:over":c({type:"GAME_OVER",payload:d.data});break;case"match:rematch_requested":String(d.data.requested_by)!==String(i)&&c({type:"REMATCH_REQUESTED",payload:d.data});break;case"match:rematch_ready":window.location.href=`/arena/${d.data.new_match_id}`;break}}),W.useEffect(()=>{let d;return l.status==="QUESTION_ACTIVE"&&l.timer>0&&(d=setInterval(()=>{c({type:"TICK_TIMER"})},1e3)),()=>clearInterval(d)},[l.status,l.timer]),W.useEffect(()=>{if(l.status==="PREPARE_ROUND"&&l.currentQuestion?.start_at){const d=Math.floor(Date.now()/1e3),g=Math.max((l.currentQuestion.start_at-d)*1e3,0),E=setTimeout(()=>{c({type:"START_QUESTION"})},g);return()=>clearTimeout(E)}else l.status==="PREPARE_ROUND"&&!l.currentQuestion?.start_at&&c({type:"START_QUESTION"})},[l.status,l.currentQuestion]),W.useEffect(()=>{(async()=>{try{const E=(await oe.get(`/match/${s}/state`)).data;if(E.status==="active"&&E.currentQuestion){const R=Math.floor(Date.now()/1e3),M=E.currentQuestion.sent_at,j=R-M,b=Math.max(E.currentQuestion.time_limit-j,0);c({type:"NEW_QUESTION",payload:{...E.currentQuestion,time_limit:b}}),E.playerScores}}catch(g){console.error("Failed to sync state",g)}})()},[s]);const f=async()=>{try{await oe.post(`/match/${s}/start`)}catch(d){console.error(d)}},o=async d=>{if(!l.hasAnswered){c({type:"PLAYER_ANSWERED",payload:d});try{await oe.post(`/match/${s}/answer`,{question_id:l.currentQuestion?.question_id,answer_option:d})}catch(g){console.error(g)}}},u=async()=>{try{await oe.post(`/match/${s}/next`)}catch(d){console.error(d)}};return{state:l,startGame:f,submitAnswer:o,nextQuestion:u,requestRematch:async()=>{try{await oe.post(`/match/${s}/rematch`)}catch(d){console.error(d)}}}}function at(s){const e=ne.c(5),{match:i}=s,n=`match:${i.channel_id}`;let l;e[0]!==i?(l=r.jsx(pe,{channelName:"global-presence",children:r.jsx(Xe,{match:i})}),e[0]=i,e[1]=l):l=e[1];let c;return e[2]!==n||e[3]!==l?(c=r.jsx(pe,{channelName:n,children:l}),e[2]=n,e[3]=l,e[4]=c):c=e[4],c}function Xe(s){const e=ne.c(54),{match:i}=s,n=Ae().props.auth.user,{t:l}=le(),c=i.player1_id===n.id?i.player2:i.player1,f=Number(i.player1_id)===Number(n.id),{state:o,submitAnswer:u}=Je(i.id,i.channel_id,n.id,f),x=o.opponent||c;Ie(`match:${i.channel_id}`);const{presenceData:d}=Oe(`match:${i.channel_id}`),[g,E]=W.useState(!1);let R;e[0]!==x?.id||e[1]!==d?(R=()=>{const K=d.some(te=>te.clientId===String(x?.id));E(K)},e[0]=x?.id,e[1]=d,e[2]=R):R=e[2];let M;e[3]!==x||e[4]!==d?(M=[d,x],e[3]=x,e[4]=d,e[5]=M):M=e[5],W.useEffect(R,M);const{channel:j}=ge("global-presence");let b;e[6]!==j||e[7]!==n.id||e[8]!==n.name||e[9]!==n.profile_photo_url?(b=()=>{if(j)return j.presence.update({name:n.name,id:n.id,profile_photo_url:n.profile_photo_url,status:"playing"}),()=>{j.presence.update({name:n.name,id:n.id,profile_photo_url:n.profile_photo_url,status:"online"})}},e[6]=j,e[7]=n.id,e[8]=n.name,e[9]=n.profile_photo_url,e[10]=b):b=e[10];let $;e[11]!==j||e[12]!==n?($=[j,n],e[11]=j,e[12]=n,e[13]=$):$=e[13],W.useEffect(b,$);const Q=o.timer,k=o.currentQuestion,S=o.playerScores[i.player1_id===n.id?"p1":"p2"],T=o.playerScores[i.player1_id===n.id?"p2":"p1"],I=o.winnerId===n.id,O=o.status==="GAME_OVER"&&!o.winnerId;let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=r.jsx(Ce,{title:"Arena"}),e[14]=C):C=e[14];let U;e[15]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[r.jsx("div",{className:"absolute -left-[20%] -top-[20%] h-[800px] w-[800px] animate-pulse rounded-full bg-indigo-600/20 blur-[120px]"}),r.jsx("div",{className:"absolute -bottom-[20%] -right-[20%] h-[800px] w-[800px] animate-pulse rounded-full bg-blue-600/20 blur-[120px] delay-1000"}),r.jsx("div",{className:"absolute inset-0 bg-[url('/images/grid.svg')] bg-center opacity-10 [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"})]}),e[15]=U):U=e[15];const z=k?.round_index;let L;e[16]!==x||e[17]!==g||e[18]!==T||e[19]!==S||e[20]!==o.status||e[21]!==z||e[22]!==Q||e[23]!==n?(L=r.jsx("div",{className:"z-10 mt-safe pt-4 w-full flex justify-center",children:r.jsx(Pe,{user:n,opponent:x,score:S,opponentScore:T,timer:Q,currentQuestionIndex:z,status:o.status,opponentPresent:g})}),e[16]=x,e[17]=g,e[18]=T,e[19]=S,e[20]=o.status,e[21]=z,e[22]=Q,e[23]=n,e[24]=L):L=e[24];let A;e[25]!==o.status?(A=o.status==="WAITING_FOR_OPPONENT"&&r.jsx(qe,{}),e[25]=o.status,e[26]=A):A=e[26];let V;e[27]!==o.status?(V=o.status==="STARTING"&&r.jsx($e,{}),e[27]=o.status,e[28]=V):V=e[28];let P;e[29]!==k||e[30]!==o.hasAnswered||e[31]!==o.lastRoundResult||e[32]!==o.opponentAnswered||e[33]!==o.status||e[34]!==o.userAnswer||e[35]!==u||e[36]!==l?(P=(o.status==="QUESTION_ACTIVE"||o.status==="ROUND_RESULT"||o.status==="PREPARE_ROUND")&&k&&r.jsxs("div",{className:"w-full",children:[o.status==="PREPARE_ROUND"&&r.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/40 rounded-3xl",children:r.jsxs("div",{className:"text-center animate-pulse",children:[r.jsx("h2",{className:"text-4xl font-black text-white uppercase tracking-widest drop-shadow-xl",children:l("GET READY")}),r.jsx("p",{className:"text-blue-300 font-bold mt-2",children:l("Next round starting...")})]})}),r.jsx(ze,{currentQuestion:k,status:o.status,lastRoundResult:o.lastRoundResult,hasAnswered:o.hasAnswered,opponentAnswered:o.opponentAnswered,submitAnswer:u,userAnswer:o.userAnswer})]}),e[29]=k,e[30]=o.hasAnswered,e[31]=o.lastRoundResult,e[32]=o.opponentAnswered,e[33]=o.status,e[34]=o.userAnswer,e[35]=u,e[36]=l,e[37]=P):P=e[37];let B;e[38]!==O||e[39]!==I||e[40]!==x||e[41]!==T||e[42]!==S||e[43]!==o.status||e[44]!==n?(B=o.status==="GAME_OVER"&&r.jsx(Ue,{user:n,opponent:x,score:S,opponentScore:T,isWinner:I,isDraw:O}),e[38]=O,e[39]=I,e[40]=x,e[41]=T,e[42]=S,e[43]=o.status,e[44]=n,e[45]=B):B=e[45];let q;e[46]!==V||e[47]!==P||e[48]!==B||e[49]!==A?(q=r.jsxs("div",{className:"relative z-10 flex w-full max-w-2xl flex-1 flex-col justify-center px-4 pb-10",children:[A,V,P,B]}),e[46]=V,e[47]=P,e[48]=B,e[49]=A,e[50]=q):q=e[50];let Z;return e[51]!==q||e[52]!==L?(Z=r.jsxs("div",{className:"relative flex min-h-screen flex-col items-center overflow-hidden bg-slate-950 font-sans text-white selection:bg-indigo-500 selection:text-white",children:[C,U,L,q]}),e[51]=q,e[52]=L,e[53]=Z):Z=e[53],Z}export{at as default};
