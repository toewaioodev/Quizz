import{u as ae,j as s,r as le,a as oe,H as ce,L as de,c as me}from"./app-Bwcxkhc9.js";import{c as ie}from"./compiler-runtime-CmEo9VnA.js";import{a as he,C as xe,A as fe,u as ue}from"./ChannelProvider-BYuXzJVJ.js";import{N as be}from"./Navbar-CzwNJ3qv.js";import{u as pe}from"./useTranslation-BVlf423U.js";/* empty css            */function Se(e){const t=ie.c(6),{ably_key:r}=e,o=ae().props.auth.user,d=String(o.id);let n;t[0]!==r||t[1]!==d?(n=new he.Realtime({key:r,clientId:d}),t[0]=r,t[1]=d,t[2]=n):n=t[2];const a=n;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(xe,{channelName:"lobby",children:s.jsx(ge,{})}),t[3]=m):m=t[3];let l;return t[4]!==a?(l=s.jsx(fe,{client:a,children:m}),t[4]=a,t[5]=l):l=t[5],l}function ge(){const e=ie.c(100),{t}=pe(),r=ae().props.auth.user,[o,d]=le.useState(!1);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[a,m]=le.useState(n),{channel:l}=ue("lobby");let q,O;e[1]!==l||e[2]!==r.id||e[3]!==r.name?(q=()=>{if(!l)return;const i=async()=>{try{const c=await l.presence.get(),re=Array.from(new Map(c.map(je)).values());m(re)}catch(c){console.error("Error fetching presence:",c)}};return l.presence.enter({name:r.name,id:r.id}),l.presence.subscribe("enter",i),l.presence.subscribe("leave",i),l.presence.subscribe("update",i),i(),()=>{l.presence.leave(),l.presence.unsubscribe()}},O=[l,r.name,r.id],e[1]=l,e[2]=r.id,e[3]=r.name,e[4]=q,e[5]=O):(q=e[4],O=e[5]),le.useEffect(q,O);let Q;e[6]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{d(!0),oe.post("/match/find").then(ve).catch(i=>{console.error("Matchmaking failed:",i),d(!1)})},e[6]=Q):Q=e[6];const ne=Q;let D,G;e[7]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(ce,{title:"Battle Lobby"}),G=s.jsx(be,{}),e[7]=D,e[8]=G):(D=e[7],G=e[8]);let J;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-purple-600/20 rounded-full blur-[100px]"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600/20 rounded-full blur-[100px]"})]}),e[9]=J):J=e[9];let h;e[10]!==t?(h=t("Quiz Battle"),e[10]=t,e[11]=h):h=e[11];let x;e[12]!==h?(x=s.jsx("h1",{className:"text-4xl font-bold tracking-tighter bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:h}),e[12]=h,e[13]=x):x=e[13];let f;e[14]!==t?(f=t("Compete in real-time 1v1 matches."),e[14]=t,e[15]=f):f=e[15];let u;e[16]!==f?(u=s.jsx("p",{className:"text-slate-400",children:f}),e[16]=f,e[17]=u):u=e[17];let b;e[18]!==u||e[19]!==x?(b=s.jsxs("div",{className:"space-y-2",children:[x,u]}),e[18]=u,e[19]=x,e[20]=b):b=e[20];let p;e[21]!==t?(p=t("My Rank"),e[21]=t,e[22]=p):p=e[22];let g;e[23]!==p?(g=s.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold",children:p}),e[23]=p,e[24]=g):g=e[24];const ee=r.points||0;let v;e[25]!==t?(v=t("PTS"),e[25]=t,e[26]=v):v=e[26];let j;e[27]!==ee||e[28]!==v?(j=s.jsxs("p",{className:"text-2xl font-bold",children:[ee," ",v]}),e[27]=ee,e[28]=v,e[29]=j):j=e[29];let N;e[30]!==g||e[31]!==j?(N=s.jsxs("div",{className:"text-left",children:[g,j]}),e[30]=g,e[31]=j,e[32]=N):N=e[32];let w;e[33]!==t?(w=t("Record"),e[33]=t,e[34]=w):w=e[34];let y;e[35]!==w?(y=s.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500 font-semibold",children:w}),e[35]=w,e[36]=y):y=e[36];const te=r.wins||0,se=r.losses||0;let k;e[37]!==te||e[38]!==se?(k=s.jsxs("p",{className:"text-lg font-medium text-green-400",children:[te,"W - ",se,"L"]}),e[37]=te,e[38]=se,e[39]=k):k=e[39];let _;e[40]!==y||e[41]!==k?(_=s.jsxs("div",{className:"text-right",children:[y,k]}),e[40]=y,e[41]=k,e[42]=_):_=e[42];let L;e[43]!==N||e[44]!==_?(L=s.jsxs("div",{className:"flex items-center justify-between mb-6 pb-6 border-b border-white/5",children:[N,_]}),e[43]=N,e[44]=_,e[45]=L):L=e[45];let S;e[46]!==o||e[47]!==t?(S=s.jsx("div",{className:"relative flex items-center justify-center gap-3 bg-slate-950/50 group-hover:bg-transparent h-14 rounded-[11px] transition-colors",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{className:"font-semibold tracking-wide",children:t("Finding Match...")})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"font-semibold tracking-wide text-lg",children:t("Find Match")})]})}),e[46]=o,e[47]=t,e[48]=S):S=e[48];let M;e[49]!==o||e[50]!==S?(M=s.jsx("button",{onClick:ne,disabled:o,className:"w-full relative group overflow-hidden rounded-xl bg-gradient-to-r from-blue-600 to-violet-600 p-[1px] transition-all hover:scale-[1.02] active:scale-[0.98]",children:S}),e[49]=o,e[50]=S,e[51]=M):M=e[51];let C;e[52]!==t?(C=t("Average wait time"),e[52]=t,e[53]=C):C=e[53];let A;e[54]!==C?(A=s.jsxs("div",{className:"mt-4 text-xs text-slate-500 text-center",children:[C,": < 10s"]}),e[54]=C,e[55]=A):A=e[55];let P;e[56]!==L||e[57]!==M||e[58]!==A?(P=s.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl border border-white/10 p-6 rounded-2xl shadow-xl",children:[L,M,A]}),e[56]=L,e[57]=M,e[58]=A,e[59]=P):P=e[59];let K;e[60]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx("div",{className:"text-purple-400 mb-2 group-hover:scale-110 transition-transform origin-left",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),e[60]=K):K=e[60];let E;e[61]!==t?(E=t("Practice Mode"),e[61]=t,e[62]=E):E=e[62];let z;e[63]!==E?(z=s.jsxs("button",{className:"p-4 rounded-xl bg-slate-900/50 border border-white/5 hover:border-white/20 transition-colors text-left group",children:[K,s.jsx("div",{className:"font-semibold text-sm",children:E})]}),e[63]=E,e[64]=z):z=e[64];let X;e[65]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("div",{className:"text-blue-400 mb-2 group-hover:scale-110 transition-transform origin-left",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e[65]=X):X=e[65];let B;e[66]!==t?(B=t("Leaderboard"),e[66]=t,e[67]=B):B=e[67];let R;e[68]!==B?(R=s.jsxs(de,{href:"/leaderboard",className:"p-4 rounded-xl bg-slate-900/50 border border-white/5 hover:border-white/20 transition-colors text-left group",children:[X,s.jsx("div",{className:"font-semibold text-sm",children:B})]}),e[68]=B,e[69]=R):R=e[69];let F;e[70]!==z||e[71]!==R?(F=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z,R]}),e[70]=z,e[71]=R,e[72]=F):F=e[72];let H;e[73]!==b||e[74]!==P||e[75]!==F?(H=s.jsxs("div",{className:"space-y-8 text-center md:text-left",children:[b,P,F]}),e[73]=b,e[74]=P,e[75]=F,e[76]=H):H=e[76];let Y;e[77]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),e[77]=Y):Y=e[77];let V;e[78]!==t?(V=t("Active Players"),e[78]=t,e[79]=V):V=e[79];let W;e[80]!==a.length||e[81]!==V?(W=s.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[Y,V," (",a.length,")"]}),e[80]=a.length,e[81]=V,e[82]=W):W=e[82];let I;if(e[83]!==a||e[84]!==t){let i;e[86]!==t?(i=c=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-teal-500 flex items-center justify-center font-bold text-sm shadow-sm",children:c.data.name.charAt(0)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm text-slate-200",children:c.data.name}),s.jsx("p",{className:"text-xs text-slate-500",children:t("Online")})]})]},c.clientId),e[86]=t,e[87]=i):i=e[87],I=a.map(i),e[83]=a,e[84]=t,e[85]=I}else I=e[85];let $;e[88]!==a.length||e[89]!==t?($=a.length===0&&s.jsx("div",{className:"text-center text-slate-500 py-10",children:t("Connecting...")}),e[88]=a.length,e[89]=t,e[90]=$):$=e[90];let T;e[91]!==I||e[92]!==$?(T=s.jsxs("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:[I,$]}),e[91]=I,e[92]=$,e[93]=T):T=e[93];let U;e[94]!==W||e[95]!==T?(U=s.jsxs("div",{className:"bg-slate-900/30 backdrop-blur-md border border-white/5 rounded-2xl p-6 h-full min-h-[400px]",children:[W,T]}),e[94]=W,e[95]=T,e[96]=U):U=e[96];let Z;return e[97]!==H||e[98]!==U?(Z=s.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center p-0 relative overflow-hidden transition-colors duration-300",children:[D,G,J,s.jsxs("div",{className:"z-10 w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-8 items-start mt-8 p-6",children:[H,U]})]}),e[97]=H,e[98]=U,e[99]=Z):Z=e[99],Z}function ve(e){const{match_id:t}=e.data;me.visit(`/arena/${t}`)}function je(e){return[e.clientId,e]}export{Se as default};
