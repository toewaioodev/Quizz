import{r as fe,m as V,j as F,G as vt,J as yt,O as rt,M as At,Q as Ct,c as kt,u as jt,k as Nt,l as Ut,F as Dt,H as _t}from"./app-C52MOSaO.js";import{B as Et}from"./BottomNav-DlamCR41.js";import{N as Rt}from"./Navbar-BT21Ij-T.js";import{A as nt}from"./index-Bwu4l-dT.js";import{m as Ge}from"./proxy-CVGJnhz4.js";/* empty css            */import"./ChartBarIcon-TgkP0rDm.js";function St(k,r){return r.forEach(function(u){u&&typeof u!="string"&&!Array.isArray(u)&&Object.keys(u).forEach(function(s){if(s!=="default"&&!(s in k)){var e=Object.getOwnPropertyDescriptor(u,s);Object.defineProperty(k,s,e.get?e:{enumerable:!0,get:function(){return u[s]}})}})}),Object.freeze(k)}function ot(k,r){return new Promise(function(u,s){let e;return Mt(k).then(function(t){try{return e=t,u(new Blob([r.slice(0,2),e,r.slice(2)],{type:"image/jpeg"}))}catch(l){return s(l)}},s)})}const Mt=k=>new Promise((r,u)=>{const s=new FileReader;s.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return u("not a valid JPEG");for(l+=2;;){const c=t.getUint16(l);if(c===65498)break;const m=t.getUint16(l+2);if(c===65505&&t.getUint32(l+4)===1165519206){const g=l+10;let n;switch(t.getUint16(g)){case 18761:n=!0;break;case 19789:n=!1;break;default:return u("TIFF header contains invalid endian")}if(t.getUint16(g+2,n)!==42)return u("TIFF header contains invalid version");const a=t.getUint32(g+4,n),i=g+a+2+12*t.getUint16(g+a,n);for(let o=g+a+2;o<i;o+=12)if(t.getUint16(o,n)==274){if(t.getUint16(o+2,n)!==3)return u("Orientation data type is invalid");if(t.getUint32(o+4,n)!==1)return u("Orientation data count is invalid");t.setUint16(o+8,1,n);break}return r(e.slice(l,l+2+m))}l+=2+m}return r(new Blob)}),s.readAsArrayBuffer(k)});var ze={},Ft={get exports(){return ze},set exports(k){ze=k}};(function(k){var r,u,s={};Ft.exports=s,s.parse=function(e,t){for(var l=s.bin.readUshort,c=s.bin.readUint,m=0,g={},n=new Uint8Array(e),a=n.length-4;c(n,a)!=101010256;)a--;m=a,m+=4;var i=l(n,m+=4);l(n,m+=2);var o=c(n,m+=2),w=c(n,m+=4);m+=4,m=w;for(var j=0;j<i;j++){c(n,m),m+=4,m+=4,m+=4,c(n,m+=4),o=c(n,m+=4);var N=c(n,m+=4),b=l(n,m+=4),T=l(n,m+2),M=l(n,m+4);m+=6;var E=c(n,m+=8);m+=4,m+=b+T+M,s._readLocal(n,E,g,o,N,t)}return g},s._readLocal=function(e,t,l,c,m,g){var n=s.bin.readUshort,a=s.bin.readUint;a(e,t),n(e,t+=4),n(e,t+=2);var i=n(e,t+=2);a(e,t+=2),a(e,t+=4),t+=4;var o=n(e,t+=8),w=n(e,t+=2);t+=2;var j=s.bin.readUTF8(e,t,o);if(t+=o,t+=w,g)l[j]={size:m,csize:c};else{var N=new Uint8Array(e.buffer,t);if(i==0)l[j]=new Uint8Array(N.buffer.slice(t,t+c));else{if(i!=8)throw"unknown compression method: "+i;var b=new Uint8Array(m);s.inflateRaw(N,b),l[j]=b}}},s.inflateRaw=function(e,t){return s.F.inflate(e,t)},s.inflate=function(e,t){return e[0],e[1],s.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},s.deflate=function(e,t){t==null&&(t={level:6});var l=0,c=new Uint8Array(50+Math.floor(1.1*e.length));c[l]=120,c[l+1]=156,l+=2,l=s.F.deflateRaw(e,c,l,t.level);var m=s.adler(e,0,e.length);return c[l+0]=m>>>24&255,c[l+1]=m>>>16&255,c[l+2]=m>>>8&255,c[l+3]=m>>>0&255,new Uint8Array(c.buffer,0,l+4)},s.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),c=s.F.deflateRaw(e,l,c,t.level);return new Uint8Array(l.buffer,0,c)},s.encode=function(e,t){t==null&&(t=!1);var l=0,c=s.bin.writeUint,m=s.bin.writeUshort,g={};for(var n in e){var a=!s._noNeed(n)&&!t,i=e[n],o=s.crc.crc(i,0,i.length);g[n]={cpr:a,usize:i.length,crc:o,file:a?s.deflateRaw(i):i}}for(var n in g)l+=g[n].file.length+30+46+2*s.bin.sizeUTF8(n);l+=22;var w=new Uint8Array(l),j=0,N=[];for(var n in g){var b=g[n];N.push(j),j=s._writeHeader(w,j,n,b,0)}var T=0,M=j;for(var n in g)b=g[n],N.push(j),j=s._writeHeader(w,j,n,b,1,N[T++]);var E=j-M;return c(w,j,101010256),j+=4,m(w,j+=4,T),m(w,j+=2,T),c(w,j+=2,E),c(w,j+=4,M),j+=4,j+=2,w.buffer},s._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},s._writeHeader=function(e,t,l,c,m,g){var n=s.bin.writeUint,a=s.bin.writeUshort,i=c.file;return n(e,t,m==0?67324752:33639248),t+=4,m==1&&(t+=2),a(e,t,20),a(e,t+=2,0),a(e,t+=2,c.cpr?8:0),n(e,t+=2,0),n(e,t+=4,c.crc),n(e,t+=4,i.length),n(e,t+=4,c.usize),a(e,t+=4,s.bin.sizeUTF8(l)),a(e,t+=2,0),t+=2,m==1&&(t+=2,t+=2,n(e,t+=6,g),t+=4),t+=s.bin.writeUTF8(e,t,l),m==0&&(e.set(i,t),t+=i.length),t},s.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,c=0;c<8;c++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,c){for(var m=0;m<c;m++)e=s.crc.table[255&(e^t[l+m])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^s.crc.update(4294967295,e,t,l)}},s.adler=function(e,t,l){for(var c=1,m=0,g=t,n=t+l;g<n;){for(var a=Math.min(g+5552,n);g<a;)m+=c+=e[g++];c%=65521,m%=65521}return m<<16|c},s.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var c="",m=0;m<l;m++)c+=String.fromCharCode(e[t+m]);return c},writeASCII:function(e,t,l){for(var c=0;c<l.length;c++)e[t+c]=l.charCodeAt(c)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var c,m="",g=0;g<l;g++)m+="%"+s.bin.pad(e[t+g].toString(16));try{c=decodeURIComponent(m)}catch{return s.bin.readASCII(e,t,l)}return c},writeUTF8:function(e,t,l){for(var c=l.length,m=0,g=0;g<c;g++){var n=l.charCodeAt(g);if((4294967168&n)==0)e[t+m]=n,m++;else if((4294965248&n)==0)e[t+m]=192|n>>6,e[t+m+1]=128|n>>0&63,m+=2;else if((4294901760&n)==0)e[t+m]=224|n>>12,e[t+m+1]=128|n>>6&63,e[t+m+2]=128|n>>0&63,m+=3;else{if((4292870144&n)!=0)throw"e";e[t+m]=240|n>>18,e[t+m+1]=128|n>>12&63,e[t+m+2]=128|n>>6&63,e[t+m+3]=128|n>>0&63,m+=4}}return m},sizeUTF8:function(e){for(var t=e.length,l=0,c=0;c<t;c++){var m=e.charCodeAt(c);if((4294967168&m)==0)l++;else if((4294965248&m)==0)l+=2;else if((4294901760&m)==0)l+=3;else{if((4292870144&m)!=0)throw"e";l+=4}}return l}},s.F={},s.F.deflateRaw=function(e,t,l,c){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],g=s.F.U,n=s.F._goodIndex;s.F._hash;var a=s.F._putsE,i=0,o=l<<3,w=0,j=e.length;if(c==0){for(;i<j;)a(t,o,i+(C=Math.min(65535,j-i))==j?1:0),o=s.F._copyExact(e,i,C,t,o+8),i+=C;return o>>>3}var N=g.lits,b=g.strt,T=g.prev,M=0,E=0,P=0,x=0,S=0,f=0;for(j>2&&(b[f=s.F._hash(e,0)]=0),i=0;i<j;i++){if(S=f,i+1<j-2){f=s.F._hash(e,i+1);var h=i+1&32767;T[h]=b[f],b[f]=h}if(w<=i){(M>14e3||E>26697)&&j-i>100&&(w<i&&(N[M]=i-w,M+=2,w=i),o=s.F._writeBlock(i==j-1||w==j?1:0,N,M,x,e,P,i-P,t,o),M=E=x=0,P=i);var v=0;i<j-2&&(v=s.F._bestMatch(e,i,T,S,Math.min(m[2],j-i),m[3]));var C=v>>>16,A=65535&v;if(v!=0){A=65535&v;var U=n(C=v>>>16,g.of0);g.lhst[257+U]++;var y=n(A,g.df0);g.dhst[y]++,x+=g.exb[U]+g.dxb[y],N[M]=C<<23|i-w,N[M+1]=A<<16|U<<8|y,M+=2,w=i+C}else g.lhst[e[i]]++;E++}}for(P==i&&e.length!=0||(w<i&&(N[M]=i-w,M+=2,w=i),o=s.F._writeBlock(1,N,M,x,e,P,i-P,t,o),M=0,E=0,M=E=x=0,P=i);(7&o)!=0;)o++;return o>>>3},s.F._bestMatch=function(e,t,l,c,m,g){var n=32767&t,a=l[n],i=n-a+32768&32767;if(a==n||c!=s.F._hash(e,t-i))return 0;for(var o=0,w=0,j=Math.min(32767,t);i<=j&&--g!=0&&a!=n;){if(o==0||e[t+o]==e[t+o-i]){var N=s.F._howLong(e,t,i);if(N>o){if(w=i,(o=N)>=m)break;i+2<N&&(N=i+2);for(var b=0,T=0;T<N-2;T++){var M=t-i+T+32768&32767,E=M-l[M]+32768&32767;E>b&&(b=E,a=M)}}}i+=(n=a)-(a=l[n])+32768&32767}return o<<16|w},s.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var c=t,m=Math.min(e.length,t+258);for(t+=3;t<m&&e[t]==e[t-l];)t++;return t-c},s.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(e,t,l,c,m,g,n,a,i){var o,w,j,N,b,T,M,E,P,x=s.F.U,S=s.F._putsF,f=s.F._putsE;x.lhst[256]++,w=(o=s.F.getTrees())[0],j=o[1],N=o[2],b=o[3],T=o[4],M=o[5],E=o[6],P=o[7];var h=32+((i+3&7)==0?0:8-(i+3&7))+(n<<3),v=c+s.F.contSize(x.fltree,x.lhst)+s.F.contSize(x.fdtree,x.dhst),C=c+s.F.contSize(x.ltree,x.lhst)+s.F.contSize(x.dtree,x.dhst);C+=14+3*M+s.F.contSize(x.itree,x.ihst)+(2*x.ihst[16]+3*x.ihst[17]+7*x.ihst[18]);for(var A=0;A<286;A++)x.lhst[A]=0;for(A=0;A<30;A++)x.dhst[A]=0;for(A=0;A<19;A++)x.ihst[A]=0;var U=h<v&&h<C?0:v<C?1:2;if(S(a,i,e),S(a,i+1,U),i+=3,U==0){for(;(7&i)!=0;)i++;i=s.F._copyExact(m,g,n,a,i)}else{var y,_;if(U==1&&(y=x.fltree,_=x.fdtree),U==2){s.F.makeCodes(x.ltree,w),s.F.revCodes(x.ltree,w),s.F.makeCodes(x.dtree,j),s.F.revCodes(x.dtree,j),s.F.makeCodes(x.itree,N),s.F.revCodes(x.itree,N),y=x.ltree,_=x.dtree,f(a,i,b-257),f(a,i+=5,T-1),f(a,i+=5,M-4),i+=4;for(var p=0;p<M;p++)f(a,i+3*p,x.itree[1+(x.ordr[p]<<1)]);i+=3*M,i=s.F._codeTiny(E,x.itree,a,i),i=s.F._codeTiny(P,x.itree,a,i)}for(var d=g,I=0;I<l;I+=2){for(var D=t[I],H=D>>>23,z=d+(8388607&D);d<z;)i=s.F._writeLit(m[d++],y,a,i);if(H!=0){var L=t[I+1],B=L>>16,O=L>>8&255,R=255&L;f(a,i=s.F._writeLit(257+O,y,a,i),H-x.of0[O]),i+=x.exb[O],S(a,i=s.F._writeLit(R,_,a,i),B-x.df0[R]),i+=x.dxb[R],d+=H}}i=s.F._writeLit(256,y,a,i)}return i},s.F._copyExact=function(e,t,l,c,m){var g=m>>>3;return c[g]=l,c[g+1]=l>>>8,c[g+2]=255-c[g],c[g+3]=255-c[g+1],g+=4,c.set(new Uint8Array(e.buffer,t,l),g),m+(l+4<<3)},s.F.getTrees=function(){for(var e=s.F.U,t=s.F._hufTree(e.lhst,e.ltree,15),l=s.F._hufTree(e.dhst,e.dtree,15),c=[],m=s.F._lenCodes(e.ltree,c),g=[],n=s.F._lenCodes(e.dtree,g),a=0;a<c.length;a+=2)e.ihst[c[a]]++;for(a=0;a<g.length;a+=2)e.ihst[g[a]]++;for(var i=s.F._hufTree(e.ihst,e.itree,7),o=19;o>4&&e.itree[1+(e.ordr[o-1]<<1)]==0;)o--;return[t,l,i,m,n,o,c,g]},s.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},s.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},s.F.contSize=function(e,t){for(var l=0,c=0;c<t.length;c++)l+=t[c]*e[1+(c<<1)];return l},s.F._codeTiny=function(e,t,l,c){for(var m=0;m<e.length;m+=2){var g=e[m],n=e[m+1];c=s.F._writeLit(g,t,l,c);var a=g==16?2:g==17?3:7;g>15&&(s.F._putsE(l,c,n,a),c+=a)}return c},s.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var c=0;c<l;c+=2){var m=e[c+1],g=c+3<l?e[c+3]:-1,n=c+5<l?e[c+5]:-1,a=c==0?-1:e[c-1];if(m==0&&g==m&&n==m){for(var i=c+5;i+2<l&&e[i+2]==m;)i+=2;(o=Math.min(i+1-c>>>1,138))<11?t.push(17,o-3):t.push(18,o-11),c+=2*o-2}else if(m==a&&g==m&&n==m){for(i=c+5;i+2<l&&e[i+2]==m;)i+=2;var o=Math.min(i+1-c>>>1,6);t.push(16,o-3),c+=2*o-2}else t.push(m,0)}return l>>>1},s.F._hufTree=function(e,t,l){var c=[],m=e.length,g=t.length,n=0;for(n=0;n<g;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<m;n++)e[n]!=0&&c.push({lit:n,f:e[n]});var a=c.length,i=c.slice(0);if(a==0)return 0;if(a==1){var o=c[0].lit;return i=o==0?1:0,t[1+(o<<1)]=1,t[1+(i<<1)]=1,1}c.sort(function(E,P){return E.f-P.f});var w=c[0],j=c[1],N=0,b=1,T=2;for(c[0]={lit:-1,f:w.f+j.f,l:w,r:j,d:0};b!=a-1;)w=N!=b&&(T==a||c[N].f<c[T].f)?c[N++]:c[T++],j=N!=b&&(T==a||c[N].f<c[T].f)?c[N++]:c[T++],c[b++]={lit:-1,f:w.f+j.f,l:w,r:j};var M=s.F.setDepth(c[b-1],0);for(M>l&&(s.F.restrictDepth(i,l,M),M=l),n=0;n<a;n++)t[1+(i[n].lit<<1)]=i[n].d;return M},s.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(s.F.setDepth(e.l,t+1),s.F.setDepth(e.r,t+1))},s.F.restrictDepth=function(e,t,l){var c=0,m=1<<l-t,g=0;for(e.sort(function(a,i){return i.d==a.d?a.f-i.f:i.d-a.d}),c=0;c<e.length&&e[c].d>t;c++){var n=e[c].d;e[c].d=t,g+=m-(1<<l-n)}for(g>>>=l-t;g>0;)(n=e[c].d)<t?(e[c].d++,g-=1<<t-n-1):c++;for(;c>=0;c--)e[c].d==t&&g<0&&(e[c].d--,g++);g!=0&&console.log("debt left")},s.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},s.F._writeLit=function(e,t,l,c){return s.F._putsF(l,c,t[e<<1]),c+t[1+(e<<1)]},s.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var c=s.F,m=c._bitsF,g=c._bitsE,n=c._decodeTiny,a=c.makeCodes,i=c.codes2map,o=c._get17,w=c.U,j=t==null;j&&(t=new l(e.length>>>2<<3));for(var N,b,T=0,M=0,E=0,P=0,x=0,S=0,f=0,h=0,v=0;T==0;)if(T=m(e,v,1),M=m(e,v+1,2),v+=3,M!=0){if(j&&(t=s.F._check(t,h+(1<<17))),M==1&&(N=w.flmap,b=w.fdmap,S=511,f=31),M==2){E=g(e,v,5)+257,P=g(e,v+5,5)+1,x=g(e,v+10,4)+4,v+=14;for(var C=0;C<38;C+=2)w.itree[C]=0,w.itree[C+1]=0;var A=1;for(C=0;C<x;C++){var U=g(e,v+3*C,3);w.itree[1+(w.ordr[C]<<1)]=U,U>A&&(A=U)}v+=3*x,a(w.itree,A),i(w.itree,A,w.imap),N=w.lmap,b=w.dmap,v=n(w.imap,(1<<A)-1,E+P,e,v,w.ttree);var y=c._copyOut(w.ttree,0,E,w.ltree);S=(1<<y)-1;var _=c._copyOut(w.ttree,E,P,w.dtree);f=(1<<_)-1,a(w.ltree,y),i(w.ltree,y,N),a(w.dtree,_),i(w.dtree,_,b)}for(;;){var p=N[o(e,v)&S];v+=15&p;var d=p>>>4;if(!(d>>>8))t[h++]=d;else{if(d==256)break;var I=h+d-254;if(d>264){var D=w.ldef[d-257];I=h+(D>>>3)+g(e,v,7&D),v+=7&D}var H=b[o(e,v)&f];v+=15&H;var z=H>>>4,L=w.ddef[z],B=(L>>>4)+m(e,v,15&L);for(v+=15&L,j&&(t=s.F._check(t,h+(1<<17)));h<I;)t[h]=t[h++-B],t[h]=t[h++-B],t[h]=t[h++-B],t[h]=t[h++-B];h=I}}}else{(7&v)!=0&&(v+=8-(7&v));var O=4+(v>>>3),R=e[O-4]|e[O-3]<<8;j&&(t=s.F._check(t,h+R)),t.set(new l(e.buffer,e.byteOffset+O,R),h),v=O+R<<3,h+=R}return t.length==h?t:t.slice(0,h)},s.F._check=function(e,t){var l=e.length;if(t<=l)return e;var c=new Uint8Array(Math.max(l<<1,t));return c.set(e,0),c},s.F._decodeTiny=function(e,t,l,c,m,g){for(var n=s.F._bitsE,a=s.F._get17,i=0;i<l;){var o=e[a(c,m)&t];m+=15&o;var w=o>>>4;if(w<=15)g[i]=w,i++;else{var j=0,N=0;w==16?(N=3+n(c,m,2),m+=2,j=g[i-1]):w==17?(N=3+n(c,m,3),m+=3):w==18&&(N=11+n(c,m,7),m+=7);for(var b=i+N;i<b;)g[i]=j,i++}}return m},s.F._copyOut=function(e,t,l,c){for(var m=0,g=0,n=c.length>>>1;g<l;){var a=e[g+t];c[g<<1]=0,c[1+(g<<1)]=a,a>m&&(m=a),g++}for(;g<n;)c[g<<1]=0,c[1+(g<<1)]=0,g++;return m},s.F.makeCodes=function(e,t){for(var l,c,m,g,n=s.F.U,a=e.length,i=n.bl_count,o=0;o<=t;o++)i[o]=0;for(o=1;o<a;o+=2)i[e[o]]++;var w=n.next_code;for(l=0,i[0]=0,c=1;c<=t;c++)l=l+i[c-1]<<1,w[c]=l;for(m=0;m<a;m+=2)(g=e[m+1])!=0&&(e[m]=w[g],w[g]++)},s.F.codes2map=function(e,t,l){for(var c=e.length,m=s.F.U.rev15,g=0;g<c;g+=2)if(e[g+1]!=0)for(var n=g>>1,a=e[g+1],i=n<<4|a,o=t-a,w=e[g]<<o,j=w+(1<<o);w!=j;)l[m[w]>>>15-t]=i,w++},s.F.revCodes=function(e,t){for(var l=s.F.U.rev15,c=15-t,m=0;m<e.length;m+=2){var g=e[m]<<t-e[m+1];e[m]=l[g]>>>c}},s.F._putsE=function(e,t,l){l<<=7&t;var c=t>>>3;e[c]|=l,e[c+1]|=l>>>8},s.F._putsF=function(e,t,l){l<<=7&t;var c=t>>>3;e[c]|=l,e[c+1]|=l>>>8,e[c+2]|=l>>>16},s.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},s.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},s.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},s.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},s.F.U=(r=Uint16Array,u=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new u(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new u(286),dhst:new u(30),ihst:new u(19),lits:new u(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var e=s.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function c(m,g,n){for(;g--!=0;)m.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];c(e.fltree,144,8),c(e.fltree,112,9),c(e.fltree,24,7),c(e.fltree,8,8),s.F.makeCodes(e.fltree,9),s.F.codes2map(e.fltree,9,e.flmap),s.F.revCodes(e.fltree,9),c(e.fdtree,32,5),s.F.makeCodes(e.fdtree,5),s.F.codes2map(e.fdtree,5,e.fdmap),s.F.revCodes(e.fdtree,5),c(e.itree,19,0),c(e.ltree,286,0),c(e.dtree,30,0),c(e.ttree,320,0)}()})();var It=St({__proto__:null,default:ze},[ze]);const be=function(){var k={nextZero(n,a){for(;n[a]!=0;)a++;return a},readUshort:(n,a)=>n[a]<<8|n[a+1],writeUshort(n,a,i){n[a]=i>>8&255,n[a+1]=255&i},readUint:(n,a)=>16777216*n[a]+(n[a+1]<<16|n[a+2]<<8|n[a+3]),writeUint(n,a,i){n[a]=i>>24&255,n[a+1]=i>>16&255,n[a+2]=i>>8&255,n[a+3]=255&i},readASCII(n,a,i){let o="";for(let w=0;w<i;w++)o+=String.fromCharCode(n[a+w]);return o},writeASCII(n,a,i){for(let o=0;o<i.length;o++)n[a+o]=i.charCodeAt(o)},readBytes(n,a,i){const o=[];for(let w=0;w<i;w++)o.push(n[a+w]);return o},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,a,i){let o,w="";for(let j=0;j<i;j++)w+=`%${k.pad(n[a+j].toString(16))}`;try{o=decodeURIComponent(w)}catch{return k.readASCII(n,a,i)}return o}};function r(n,a,i,o){const w=a*i,j=t(o),N=Math.ceil(a*j/8),b=new Uint8Array(4*w),T=new Uint32Array(b.buffer),{ctype:M}=o,{depth:E}=o,P=k.readUshort;if(M==6){const D=w<<2;if(E==8)for(var x=0;x<D;x+=4)b[x]=n[x],b[x+1]=n[x+1],b[x+2]=n[x+2],b[x+3]=n[x+3];if(E==16)for(x=0;x<D;x++)b[x]=n[x<<1]}else if(M==2){const D=o.tabs.tRNS;if(D==null){if(E==8)for(x=0;x<w;x++){var S=3*x;T[x]=255<<24|n[S+2]<<16|n[S+1]<<8|n[S]}if(E==16)for(x=0;x<w;x++)S=6*x,T[x]=255<<24|n[S+4]<<16|n[S+2]<<8|n[S]}else{var f=D[0];const H=D[1],z=D[2];if(E==8)for(x=0;x<w;x++){var h=x<<2;S=3*x,T[x]=255<<24|n[S+2]<<16|n[S+1]<<8|n[S],n[S]==f&&n[S+1]==H&&n[S+2]==z&&(b[h+3]=0)}if(E==16)for(x=0;x<w;x++)h=x<<2,S=6*x,T[x]=255<<24|n[S+4]<<16|n[S+2]<<8|n[S],P(n,S)==f&&P(n,S+2)==H&&P(n,S+4)==z&&(b[h+3]=0)}}else if(M==3){const D=o.tabs.PLTE,H=o.tabs.tRNS,z=H?H.length:0;if(E==1)for(var v=0;v<i;v++){var C=v*N,A=v*a;for(x=0;x<a;x++){h=A+x<<2;var U=3*(y=n[C+(x>>3)]>>7-((7&x)<<0)&1);b[h]=D[U],b[h+1]=D[U+1],b[h+2]=D[U+2],b[h+3]=y<z?H[y]:255}}if(E==2)for(v=0;v<i;v++)for(C=v*N,A=v*a,x=0;x<a;x++)h=A+x<<2,U=3*(y=n[C+(x>>2)]>>6-((3&x)<<1)&3),b[h]=D[U],b[h+1]=D[U+1],b[h+2]=D[U+2],b[h+3]=y<z?H[y]:255;if(E==4)for(v=0;v<i;v++)for(C=v*N,A=v*a,x=0;x<a;x++)h=A+x<<2,U=3*(y=n[C+(x>>1)]>>4-((1&x)<<2)&15),b[h]=D[U],b[h+1]=D[U+1],b[h+2]=D[U+2],b[h+3]=y<z?H[y]:255;if(E==8)for(x=0;x<w;x++){var y;h=x<<2,U=3*(y=n[x]),b[h]=D[U],b[h+1]=D[U+1],b[h+2]=D[U+2],b[h+3]=y<z?H[y]:255}}else if(M==4){if(E==8)for(x=0;x<w;x++){h=x<<2;var _=n[p=x<<1];b[h]=_,b[h+1]=_,b[h+2]=_,b[h+3]=n[p+1]}if(E==16)for(x=0;x<w;x++){var p;h=x<<2,_=n[p=x<<2],b[h]=_,b[h+1]=_,b[h+2]=_,b[h+3]=n[p+2]}}else if(M==0)for(f=o.tabs.tRNS?o.tabs.tRNS:-1,v=0;v<i;v++){const D=v*N,H=v*a;if(E==1)for(var d=0;d<a;d++){var I=(_=255*(n[D+(d>>>3)]>>>7-(7&d)&1))==255*f?0:255;T[H+d]=I<<24|_<<16|_<<8|_}else if(E==2)for(d=0;d<a;d++)I=(_=85*(n[D+(d>>>2)]>>>6-((3&d)<<1)&3))==85*f?0:255,T[H+d]=I<<24|_<<16|_<<8|_;else if(E==4)for(d=0;d<a;d++)I=(_=17*(n[D+(d>>>1)]>>>4-((1&d)<<2)&15))==17*f?0:255,T[H+d]=I<<24|_<<16|_<<8|_;else if(E==8)for(d=0;d<a;d++)I=(_=n[D+d])==f?0:255,T[H+d]=I<<24|_<<16|_<<8|_;else if(E==16)for(d=0;d<a;d++)_=n[D+(d<<1)],I=P(n,D+(d<<1))==f?0:255,T[H+d]=I<<24|_<<16|_<<8|_}return b}function u(n,a,i,o){const w=t(n),j=Math.ceil(i*w/8),N=new Uint8Array((j+1+n.interlace)*o);return a=n.tabs.CgBI?e(a,N):s(a,N),n.interlace==0?a=l(a,n,0,i,o):n.interlace==1&&(a=function(T,M){const E=M.width,P=M.height,x=t(M),S=x>>3,f=Math.ceil(E*x/8),h=new Uint8Array(P*f);let v=0;const C=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],y=[8,8,4,4,2,2,1];let _=0;for(;_<7;){const d=U[_],I=y[_];let D=0,H=0,z=C[_];for(;z<P;)z+=d,H++;let L=A[_];for(;L<E;)L+=I,D++;const B=Math.ceil(D*x/8);l(T,M,v,D,H);let O=0,R=C[_];for(;R<P;){let Y=A[_],G=v+O*B<<3;for(;Y<E;){var p;if(x==1&&(p=(p=T[G>>3])>>7-(7&G)&1,h[R*f+(Y>>3)]|=p<<7-((7&Y)<<0)),x==2&&(p=(p=T[G>>3])>>6-(7&G)&3,h[R*f+(Y>>2)]|=p<<6-((3&Y)<<1)),x==4&&(p=(p=T[G>>3])>>4-(7&G)&15,h[R*f+(Y>>1)]|=p<<4-((1&Y)<<2)),x>=8){const Q=R*f+Y*S;for(let K=0;K<S;K++)h[Q+K]=T[(G>>3)+K]}G+=x,Y+=I}O++,R+=d}D*H!=0&&(v+=H*(1+B)),_+=1}return h}(a,n)),a}function s(n,a){return e(new Uint8Array(n.buffer,2,n.length-6),a)}var e=function(){const n={H:{}};return n.H.N=function(a,i){const o=Uint8Array;let w,j,N=0,b=0,T=0,M=0,E=0,P=0,x=0,S=0,f=0;if(a[0]==3&&a[1]==0)return i||new o(0);const h=n.H,v=h.b,C=h.e,A=h.R,U=h.n,y=h.A,_=h.Z,p=h.m,d=i==null;for(d&&(i=new o(a.length>>>2<<5));N==0;)if(N=v(a,f,1),b=v(a,f+1,2),f+=3,b!=0){if(d&&(i=n.H.W(i,S+(1<<17))),b==1&&(w=p.J,j=p.h,P=511,x=31),b==2){T=C(a,f,5)+257,M=C(a,f+5,5)+1,E=C(a,f+10,4)+4,f+=14;let D=1;for(var I=0;I<38;I+=2)p.Q[I]=0,p.Q[I+1]=0;for(I=0;I<E;I++){const L=C(a,f+3*I,3);p.Q[1+(p.X[I]<<1)]=L,L>D&&(D=L)}f+=3*E,U(p.Q,D),y(p.Q,D,p.u),w=p.w,j=p.d,f=A(p.u,(1<<D)-1,T+M,a,f,p.v);const H=h.V(p.v,0,T,p.C);P=(1<<H)-1;const z=h.V(p.v,T,M,p.D);x=(1<<z)-1,U(p.C,H),y(p.C,H,w),U(p.D,z),y(p.D,z,j)}for(;;){const D=w[_(a,f)&P];f+=15&D;const H=D>>>4;if(!(H>>>8))i[S++]=H;else{if(H==256)break;{let z=S+H-254;if(H>264){const Y=p.q[H-257];z=S+(Y>>>3)+C(a,f,7&Y),f+=7&Y}const L=j[_(a,f)&x];f+=15&L;const B=L>>>4,O=p.c[B],R=(O>>>4)+v(a,f,15&O);for(f+=15&O;S<z;)i[S]=i[S++-R],i[S]=i[S++-R],i[S]=i[S++-R],i[S]=i[S++-R];S=z}}}}else{(7&f)!=0&&(f+=8-(7&f));const D=4+(f>>>3),H=a[D-4]|a[D-3]<<8;d&&(i=n.H.W(i,S+H)),i.set(new o(a.buffer,a.byteOffset+D,H),S),f=D+H<<3,S+=H}return i.length==S?i:i.slice(0,S)},n.H.W=function(a,i){const o=a.length;if(i<=o)return a;const w=new Uint8Array(o<<1);return w.set(a,0),w},n.H.R=function(a,i,o,w,j,N){const b=n.H.e,T=n.H.Z;let M=0;for(;M<o;){const E=a[T(w,j)&i];j+=15&E;const P=E>>>4;if(P<=15)N[M]=P,M++;else{let x=0,S=0;P==16?(S=3+b(w,j,2),j+=2,x=N[M-1]):P==17?(S=3+b(w,j,3),j+=3):P==18&&(S=11+b(w,j,7),j+=7);const f=M+S;for(;M<f;)N[M]=x,M++}}return j},n.H.V=function(a,i,o,w){let j=0,N=0;const b=w.length>>>1;for(;N<o;){const T=a[N+i];w[N<<1]=0,w[1+(N<<1)]=T,T>j&&(j=T),N++}for(;N<b;)w[N<<1]=0,w[1+(N<<1)]=0,N++;return j},n.H.n=function(a,i){const o=n.H.m,w=a.length;let j,N,b,T;const M=o.j;for(var E=0;E<=i;E++)M[E]=0;for(E=1;E<w;E+=2)M[a[E]]++;const P=o.K;for(j=0,M[0]=0,N=1;N<=i;N++)j=j+M[N-1]<<1,P[N]=j;for(b=0;b<w;b+=2)T=a[b+1],T!=0&&(a[b]=P[T],P[T]++)},n.H.A=function(a,i,o){const w=a.length,j=n.H.m.r;for(let N=0;N<w;N+=2)if(a[N+1]!=0){const b=N>>1,T=a[N+1],M=b<<4|T,E=i-T;let P=a[N]<<E;const x=P+(1<<E);for(;P!=x;)o[j[P]>>>15-i]=M,P++}},n.H.l=function(a,i){const o=n.H.m.r,w=15-i;for(let j=0;j<a.length;j+=2){const N=a[j]<<i-a[j+1];a[j]=o[N]>>>w}},n.H.M=function(a,i,o){o<<=7&i;const w=i>>>3;a[w]|=o,a[w+1]|=o>>>8},n.H.I=function(a,i,o){o<<=7&i;const w=i>>>3;a[w]|=o,a[w+1]|=o>>>8,a[w+2]|=o>>>16},n.H.e=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},n.H.b=function(a,i,o){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},n.H.Z=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)},n.H.i=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16|a[3+(i>>>3)]<<24)>>>(7&i)},n.H.m=function(){const a=Uint16Array,i=Uint32Array;return{K:new a(16),j:new a(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new a(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new i(32),J:new a(512),_:[],h:new a(32),$:[],w:new a(32768),C:[],v:[],d:new a(32768),D:[],u:new a(512),Q:[],r:new a(32768),s:new i(286),Y:new i(30),a:new i(19),t:new i(15e3),k:new a(65536),g:new a(32768)}}(),function(){const a=n.H.m;for(var i=0;i<32768;i++){let w=i;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,a.r[i]=(w>>>16|w<<16)>>>17}function o(w,j,N){for(;j--!=0;)w.push(0,N)}for(i=0;i<32;i++)a.q[i]=a.S[i]<<3|a.T[i],a.c[i]=a.p[i]<<4|a.z[i];o(a._,144,8),o(a._,112,9),o(a._,24,7),o(a._,8,8),n.H.n(a._,9),n.H.A(a._,9,a.J),n.H.l(a._,9),o(a.$,32,5),n.H.n(a.$,5),n.H.A(a.$,5,a.h),n.H.l(a.$,5),o(a.Q,19,0),o(a.C,286,0),o(a.D,30,0),o(a.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,a,i,o,w){let j=t(a);const N=Math.ceil(o*j/8);let b,T;j=Math.ceil(j/8);let M=n[i],E=0;if(M>1&&(n[i]=[0,0,1][M-2]),M==3)for(E=j;E<N;E++)n[E+1]=n[E+1]+(n[E+1-j]>>>1)&255;for(let P=0;P<w;P++)if(b=i+P*N,T=b+P+1,M=n[T-1],E=0,M==0)for(;E<N;E++)n[b+E]=n[T+E];else if(M==1){for(;E<j;E++)n[b+E]=n[T+E];for(;E<N;E++)n[b+E]=n[T+E]+n[b+E-j]}else if(M==2)for(;E<N;E++)n[b+E]=n[T+E]+n[b+E-N];else if(M==3){for(;E<j;E++)n[b+E]=n[T+E]+(n[b+E-N]>>>1);for(;E<N;E++)n[b+E]=n[T+E]+(n[b+E-N]+n[b+E-j]>>>1)}else{for(;E<j;E++)n[b+E]=n[T+E]+c(0,n[b+E-N],0);for(;E<N;E++)n[b+E]=n[T+E]+c(n[b+E-j],n[b+E-N],n[b+E-j-N])}return n}function c(n,a,i){const o=n+a-i,w=o-n,j=o-a,N=o-i;return w*w<=j*j&&w*w<=N*N?n:j*j<=N*N?a:i}function m(n,a,i){i.width=k.readUint(n,a),a+=4,i.height=k.readUint(n,a),a+=4,i.depth=n[a],a++,i.ctype=n[a],a++,i.compress=n[a],a++,i.filter=n[a],a++,i.interlace=n[a],a++}function g(n,a,i,o,w,j,N,b,T){const M=Math.min(a,w),E=Math.min(i,j);let P=0,x=0;for(let _=0;_<E;_++)for(let p=0;p<M;p++)if(N>=0&&b>=0?(P=_*a+p<<2,x=(b+_)*w+N+p<<2):(P=(-b+_)*a-N+p<<2,x=_*w+p<<2),T==0)o[x]=n[P],o[x+1]=n[P+1],o[x+2]=n[P+2],o[x+3]=n[P+3];else if(T==1){var S=n[P+3]*.00392156862745098,f=n[P]*S,h=n[P+1]*S,v=n[P+2]*S,C=o[x+3]*(1/255),A=o[x]*C,U=o[x+1]*C,y=o[x+2]*C;const d=1-S,I=S+C*d,D=I==0?0:1/I;o[x+3]=255*I,o[x+0]=(f+A*d)*D,o[x+1]=(h+U*d)*D,o[x+2]=(v+y*d)*D}else if(T==2)S=n[P+3],f=n[P],h=n[P+1],v=n[P+2],C=o[x+3],A=o[x],U=o[x+1],y=o[x+2],S==C&&f==A&&h==U&&v==y?(o[x]=0,o[x+1]=0,o[x+2]=0,o[x+3]=0):(o[x]=f,o[x+1]=h,o[x+2]=v,o[x+3]=S);else if(T==3){if(S=n[P+3],f=n[P],h=n[P+1],v=n[P+2],C=o[x+3],A=o[x],U=o[x+1],y=o[x+2],S==C&&f==A&&h==U&&v==y)continue;if(S<220&&C>20)return!1}return!0}return{decode:function(a){const i=new Uint8Array(a);let o=8;const w=k,j=w.readUshort,N=w.readUint,b={tabs:{},frames:[]},T=new Uint8Array(i.length);let M,E=0,P=0;const x=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(i[S]!=x[S])throw"The input is not a PNG file!";for(;o<i.length;){const _=w.readUint(i,o);o+=4;const p=w.readASCII(i,o,4);if(o+=4,p=="IHDR")m(i,o,b);else if(p=="iCCP"){for(var f=o;i[f]!=0;)f++;w.readASCII(i,o,f-o),i[f+1];const d=i.slice(f+2,o+_);let I=null;try{I=s(d)}catch{I=e(d)}b.tabs[p]=I}else if(p=="CgBI")b.tabs[p]=i.slice(o,o+4);else if(p=="IDAT"){for(S=0;S<_;S++)T[E+S]=i[o+S];E+=_}else if(p=="acTL")b.tabs[p]={num_frames:N(i,o),num_plays:N(i,o+4)},M=new Uint8Array(i.length);else if(p=="fcTL"){P!=0&&((y=b.frames[b.frames.length-1]).data=u(b,M.slice(0,P),y.rect.width,y.rect.height),P=0);const d={x:N(i,o+12),y:N(i,o+16),width:N(i,o+4),height:N(i,o+8)};let I=j(i,o+22);I=j(i,o+20)/(I==0?100:I);const D={rect:d,delay:Math.round(1e3*I),dispose:i[o+24],blend:i[o+25]};b.frames.push(D)}else if(p=="fdAT"){for(S=0;S<_-4;S++)M[P+S]=i[o+S+4];P+=_-4}else if(p=="pHYs")b.tabs[p]=[w.readUint(i,o),w.readUint(i,o+4),i[o+8]];else if(p=="cHRM")for(b.tabs[p]=[],S=0;S<8;S++)b.tabs[p].push(w.readUint(i,o+4*S));else if(p=="tEXt"||p=="zTXt"){b.tabs[p]==null&&(b.tabs[p]={});var h=w.nextZero(i,o),v=w.readASCII(i,o,h-o),C=o+_-h-1;if(p=="tEXt")U=w.readASCII(i,h+1,C);else{var A=s(i.slice(h+2,h+2+C));U=w.readUTF8(A,0,A.length)}b.tabs[p][v]=U}else if(p=="iTXt"){b.tabs[p]==null&&(b.tabs[p]={}),h=0,f=o,h=w.nextZero(i,f),v=w.readASCII(i,f,h-f);const d=i[f=h+1];var U;i[f+1],f+=2,h=w.nextZero(i,f),w.readASCII(i,f,h-f),f=h+1,h=w.nextZero(i,f),w.readUTF8(i,f,h-f),C=_-((f=h+1)-o),d==0?U=w.readUTF8(i,f,C):(A=s(i.slice(f,f+C)),U=w.readUTF8(A,0,A.length)),b.tabs[p][v]=U}else if(p=="PLTE")b.tabs[p]=w.readBytes(i,o,_);else if(p=="hIST"){const d=b.tabs.PLTE.length/3;for(b.tabs[p]=[],S=0;S<d;S++)b.tabs[p].push(j(i,o+2*S))}else if(p=="tRNS")b.ctype==3?b.tabs[p]=w.readBytes(i,o,_):b.ctype==0?b.tabs[p]=j(i,o):b.ctype==2&&(b.tabs[p]=[j(i,o),j(i,o+2),j(i,o+4)]);else if(p=="gAMA")b.tabs[p]=w.readUint(i,o)/1e5;else if(p=="sRGB")b.tabs[p]=i[o];else if(p=="bKGD")b.ctype==0||b.ctype==4?b.tabs[p]=[j(i,o)]:b.ctype==2||b.ctype==6?b.tabs[p]=[j(i,o),j(i,o+2),j(i,o+4)]:b.ctype==3&&(b.tabs[p]=i[o]);else if(p=="IEND")break;o+=_,w.readUint(i,o),o+=4}var y;return P!=0&&((y=b.frames[b.frames.length-1]).data=u(b,M.slice(0,P),y.rect.width,y.rect.height)),b.data=u(b,T,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(a){const i=a.width,o=a.height;if(a.tabs.acTL==null)return[r(a.data,i,o,a).buffer];const w=[];a.frames[0].data==null&&(a.frames[0].data=a.data);const j=i*o*4,N=new Uint8Array(j),b=new Uint8Array(j),T=new Uint8Array(j);for(let E=0;E<a.frames.length;E++){const P=a.frames[E],x=P.rect.x,S=P.rect.y,f=P.rect.width,h=P.rect.height,v=r(P.data,f,h,a);if(E!=0)for(var M=0;M<j;M++)T[M]=N[M];if(P.blend==0?g(v,f,h,N,i,o,x,S,0):P.blend==1&&g(v,f,h,N,i,o,x,S,1),w.push(N.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)g(b,f,h,N,i,o,x,S,0);else if(P.dispose==2)for(M=0;M<j;M++)N[M]=T[M]}}return w},_paeth:c,_copyTile:g,_bin:k}}();(function(){const{_copyTile:k}=be,{_bin:r}=be,u=be._paeth;var s={table:function(){const f=new Uint32Array(256);for(let h=0;h<256;h++){let v=h;for(let C=0;C<8;C++)1&v?v=3988292384^v>>>1:v>>>=1;f[h]=v}return f}(),update(f,h,v,C){for(let A=0;A<C;A++)f=s.table[255&(f^h[v+A])]^f>>>8;return f},crc:(f,h,v)=>4294967295^s.update(4294967295,f,h,v)};function e(f,h,v,C){h[v]+=f[0]*C>>4,h[v+1]+=f[1]*C>>4,h[v+2]+=f[2]*C>>4,h[v+3]+=f[3]*C>>4}function t(f){return Math.max(0,Math.min(255,f))}function l(f,h){const v=f[0]-h[0],C=f[1]-h[1],A=f[2]-h[2],U=f[3]-h[3];return v*v+C*C+A*A+U*U}function c(f,h,v,C,A,U,y){y==null&&(y=1);const _=C.length,p=[];for(var d=0;d<_;d++){const R=C[d];p.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(d=0;d<_;d++){let R=4294967295;for(var I=0,D=0;D<_;D++){var H=l(p[d],p[D]);D!=d&&H<R&&(R=H,I=D)}}const z=new Uint32Array(A.buffer),L=new Int16Array(h*v*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<B.length;d++)B[d]=255*((B[d]+.5)/16-.5);for(let R=0;R<v;R++)for(let Y=0;Y<h;Y++){var O;d=4*(R*h+Y),y!=2?O=[t(f[d]+L[d]),t(f[d+1]+L[d+1]),t(f[d+2]+L[d+2]),t(f[d+3]+L[d+3])]:(H=B[4*(3&R)+(3&Y)],O=[t(f[d]+H),t(f[d+1]+H),t(f[d+2]+H),t(f[d+3]+H)]),I=0;let G=16777215;for(D=0;D<_;D++){const W=l(O,p[D]);W<G&&(G=W,I=D)}const Q=p[I],K=[O[0]-Q[0],O[1]-Q[1],O[2]-Q[2],O[3]-Q[3]];y==1&&(Y!=h-1&&e(K,L,d+4,7),R!=v-1&&(Y!=0&&e(K,L,d+4*h-4,3),e(K,L,d+4*h,5),Y!=h-1&&e(K,L,d+4*h+4,1))),U[d>>2]=I,z[d>>2]=C[I]}}function m(f,h,v,C,A){A==null&&(A={});const{crc:U}=s,y=r.writeUint,_=r.writeUshort,p=r.writeASCII;let d=8;const I=f.frames.length>1;let D,H=!1,z=33+(I?20:0);if(A.sRGB!=null&&(z+=13),A.pHYs!=null&&(z+=21),A.iCCP!=null&&(D=pako.deflate(A.iCCP),z+=21+D.length+4),f.ctype==3){for(var L=f.plte.length,B=0;B<L;B++)f.plte[B]>>>24!=255&&(H=!0);z+=8+3*L+4+(H?8+1*L+4:0)}for(var O=0;O<f.frames.length;O++)I&&(z+=38),z+=(Q=f.frames[O]).cimg.length+12,O!=0&&(z+=4);z+=12;const R=new Uint8Array(z),Y=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)R[B]=Y[B];if(y(R,d,13),d+=4,p(R,d,"IHDR"),d+=4,y(R,d,h),d+=4,y(R,d,v),d+=4,R[d]=f.depth,d++,R[d]=f.ctype,d++,R[d]=0,d++,R[d]=0,d++,R[d]=0,d++,y(R,d,U(R,d-17,17)),d+=4,A.sRGB!=null&&(y(R,d,1),d+=4,p(R,d,"sRGB"),d+=4,R[d]=A.sRGB,d++,y(R,d,U(R,d-5,5)),d+=4),A.iCCP!=null){const K=13+D.length;y(R,d,K),d+=4,p(R,d,"iCCP"),d+=4,p(R,d,"ICC profile"),d+=11,d+=2,R.set(D,d),d+=D.length,y(R,d,U(R,d-(K+4),K+4)),d+=4}if(A.pHYs!=null&&(y(R,d,9),d+=4,p(R,d,"pHYs"),d+=4,y(R,d,A.pHYs[0]),d+=4,y(R,d,A.pHYs[1]),d+=4,R[d]=A.pHYs[2],d++,y(R,d,U(R,d-13,13)),d+=4),I&&(y(R,d,8),d+=4,p(R,d,"acTL"),d+=4,y(R,d,f.frames.length),d+=4,y(R,d,A.loop!=null?A.loop:0),d+=4,y(R,d,U(R,d-12,12)),d+=4),f.ctype==3){for(y(R,d,3*(L=f.plte.length)),d+=4,p(R,d,"PLTE"),d+=4,B=0;B<L;B++){const K=3*B,W=f.plte[B],ee=255&W,ne=W>>>8&255,ge=W>>>16&255;R[d+K+0]=ee,R[d+K+1]=ne,R[d+K+2]=ge}if(d+=3*L,y(R,d,U(R,d-3*L-4,3*L+4)),d+=4,H){for(y(R,d,L),d+=4,p(R,d,"tRNS"),d+=4,B=0;B<L;B++)R[d+B]=f.plte[B]>>>24&255;d+=L,y(R,d,U(R,d-L-4,L+4)),d+=4}}let G=0;for(O=0;O<f.frames.length;O++){var Q=f.frames[O];I&&(y(R,d,26),d+=4,p(R,d,"fcTL"),d+=4,y(R,d,G++),d+=4,y(R,d,Q.rect.width),d+=4,y(R,d,Q.rect.height),d+=4,y(R,d,Q.rect.x),d+=4,y(R,d,Q.rect.y),d+=4,_(R,d,C[O]),d+=2,_(R,d,1e3),d+=2,R[d]=Q.dispose,d++,R[d]=Q.blend,d++,y(R,d,U(R,d-30,30)),d+=4);const K=Q.cimg;y(R,d,(L=K.length)+(O==0?0:4)),d+=4;const W=d;p(R,d,O==0?"IDAT":"fdAT"),d+=4,O!=0&&(y(R,d,G++),d+=4),R.set(K,d),d+=L,y(R,d,U(R,W,d-W)),d+=4}return y(R,d,0),d+=4,p(R,d,"IEND"),d+=4,y(R,d,U(R,d-4,4)),d+=4,R.buffer}function g(f,h,v){for(let C=0;C<f.frames.length;C++){const A=f.frames[C];A.rect.width;const U=A.rect.height,y=new Uint8Array(U*A.bpl+U);A.cimg=o(A.img,U,A.bpp,A.bpl,y,h,v)}}function n(f,h,v,C,A){const U=A[0],y=A[1],_=A[2],p=A[3],d=A[4],I=A[5];let D=6,H=8,z=255;for(var L=0;L<f.length;L++){const ie=new Uint8Array(f[L]);for(var B=ie.length,O=0;O<B;O+=4)z&=ie[O+3]}const R=z!=255,Y=function(q,X,ae,se,J,oe){const te=[];for(var $=0;$<q.length;$++){const ue=new Uint8Array(q[$]),xe=new Uint32Array(ue.buffer);var ce;let we=0,Ce=0,ye=X,_e=ae,Qe=se?1:0;if($!=0){const xt=oe||se||$==1||te[$-2].dispose!=0?1:2;let qe=0,et=1e9;for(let Te=0;Te<xt;Te++){var me=new Uint8Array(q[$-1-Te]);const bt=new Uint32Array(q[$-1-Te]);let je=X,Ne=ae,Fe=-1,Oe=-1;for(let Ee=0;Ee<ae;Ee++)for(let Re=0;Re<X;Re++)xe[de=Ee*X+Re]!=bt[de]&&(Re<je&&(je=Re),Re>Fe&&(Fe=Re),Ee<Ne&&(Ne=Ee),Ee>Oe&&(Oe=Ee));Fe==-1&&(je=Ne=Fe=Oe=0),J&&((1&je)==1&&je--,(1&Ne)==1&&Ne--);const tt=(Fe-je+1)*(Oe-Ne+1);tt<et&&(et=tt,qe=Te,we=je,Ce=Ne,ye=Fe-je+1,_e=Oe-Ne+1)}me=new Uint8Array(q[$-1-qe]),qe==1&&(te[$-1].dispose=2),ce=new Uint8Array(ye*_e*4),k(me,X,ae,ce,ye,_e,-we,-Ce,0),Qe=k(ue,X,ae,ce,ye,_e,-we,-Ce,3)?1:0,Qe==1?i(ue,X,ae,ce,{x:we,y:Ce,width:ye,height:_e}):k(ue,X,ae,ce,ye,_e,-we,-Ce,0)}else ce=ue.slice(0);te.push({rect:{x:we,y:Ce,width:ye,height:_e},img:ce,blend:Qe,dispose:0})}if(se)for($=0;$<te.length;$++){if((De=te[$]).blend==1)continue;const ue=De.rect,xe=te[$-1].rect,we=Math.min(ue.x,xe.x),Ce=Math.min(ue.y,xe.y),ye={x:we,y:Ce,width:Math.max(ue.x+ue.width,xe.x+xe.width)-we,height:Math.max(ue.y+ue.height,xe.y+xe.height)-Ce};te[$-1].dispose=1,$-1!=0&&a(q,X,ae,te,$-1,ye,J),a(q,X,ae,te,$,ye,J)}let Le=0;if(q.length!=1)for(var de=0;de<te.length;de++){var De;Le+=(De=te[de]).rect.width*De.rect.height}return te}(f,h,v,U,y,_),G={},Q=[],K=[];if(C!=0){const ie=[];for(O=0;O<Y.length;O++)ie.push(Y[O].img.buffer);const q=function(J){let oe=0;for(var te=0;te<J.length;te++)oe+=J[te].byteLength;const $=new Uint8Array(oe);let ce=0;for(te=0;te<J.length;te++){const me=new Uint8Array(J[te]),Le=me.length;for(let de=0;de<Le;de+=4){let De=me[de],ue=me[de+1],xe=me[de+2];const we=me[de+3];we==0&&(De=ue=xe=0),$[ce+de]=De,$[ce+de+1]=ue,$[ce+de+2]=xe,$[ce+de+3]=we}ce+=Le}return $.buffer}(ie),X=j(q,C);for(O=0;O<X.plte.length;O++)Q.push(X.plte[O].est.rgba);let ae=0;for(O=0;O<Y.length;O++){const se=(ee=Y[O]).img.length;var W=new Uint8Array(X.inds.buffer,ae>>2,se>>2);K.push(W);const J=new Uint8Array(X.abuf,ae,se);I&&c(ee.img,ee.rect.width,ee.rect.height,Q,J,W),ee.img.set(J),ae+=se}}else for(L=0;L<Y.length;L++){var ee=Y[L];const ie=new Uint32Array(ee.img.buffer);var ne=ee.rect.width;for(B=ie.length,W=new Uint8Array(B),K.push(W),O=0;O<B;O++){const q=ie[O];if(O!=0&&q==ie[O-1])W[O]=W[O-1];else if(O>ne&&q==ie[O-ne])W[O]=W[O-ne];else{let X=G[q];if(X==null&&(G[q]=X=Q.length,Q.push(q),Q.length>=300))break;W[O]=X}}}const ge=Q.length;for(ge<=256&&d==0&&(H=ge<=2?1:ge<=4?2:ge<=16?4:8,H=Math.max(H,p)),L=0;L<Y.length;L++){(ee=Y[L]).rect.x,ee.rect.y,ne=ee.rect.width;const ie=ee.rect.height;let q=ee.img;new Uint32Array(q.buffer);let X=4*ne,ae=4;if(ge<=256&&d==0){X=Math.ceil(H*ne/8);var le=new Uint8Array(X*ie);const se=K[L];for(let J=0;J<ie;J++){O=J*X;const oe=J*ne;if(H==8)for(var Z=0;Z<ne;Z++)le[O+Z]=se[oe+Z];else if(H==4)for(Z=0;Z<ne;Z++)le[O+(Z>>1)]|=se[oe+Z]<<4-4*(1&Z);else if(H==2)for(Z=0;Z<ne;Z++)le[O+(Z>>2)]|=se[oe+Z]<<6-2*(3&Z);else if(H==1)for(Z=0;Z<ne;Z++)le[O+(Z>>3)]|=se[oe+Z]<<7-1*(7&Z)}q=le,D=3,ae=1}else if(R==0&&Y.length==1){le=new Uint8Array(ne*ie*3);const se=ne*ie;for(O=0;O<se;O++){const J=3*O,oe=4*O;le[J]=q[oe],le[J+1]=q[oe+1],le[J+2]=q[oe+2]}q=le,D=2,ae=3,X=3*ne}ee.img=q,ee.bpl=X,ee.bpp=ae}return{ctype:D,depth:H,plte:Q,frames:Y}}function a(f,h,v,C,A,U,y){const _=Uint8Array,p=Uint32Array,d=new _(f[A-1]),I=new p(f[A-1]),D=A+1<f.length?new _(f[A+1]):null,H=new _(f[A]),z=new p(H.buffer);let L=h,B=v,O=-1,R=-1;for(let G=0;G<U.height;G++)for(let Q=0;Q<U.width;Q++){const K=U.x+Q,W=U.y+G,ee=W*h+K,ne=z[ee];ne==0||C[A-1].dispose==0&&I[ee]==ne&&(D==null||D[4*ee+3]!=0)||(K<L&&(L=K),K>O&&(O=K),W<B&&(B=W),W>R&&(R=W))}O==-1&&(L=B=O=R=0),y&&((1&L)==1&&L--,(1&B)==1&&B--),U={x:L,y:B,width:O-L+1,height:R-B+1};const Y=C[A];Y.rect=U,Y.blend=1,Y.img=new Uint8Array(U.width*U.height*4),C[A-1].dispose==0?(k(d,h,v,Y.img,U.width,U.height,-U.x,-U.y,0),i(H,h,v,Y.img,U)):k(H,h,v,Y.img,U.width,U.height,-U.x,-U.y,0)}function i(f,h,v,C,A){k(f,h,v,C,A.width,A.height,-A.x,-A.y,2)}function o(f,h,v,C,A,U,y){const _=[];let p,d=[0,1,2,3,4];U!=-1?d=[U]:(h*C>5e5||v==1)&&(d=[0]),y&&(p={level:0});const I=It;for(var D=0;D<d.length;D++){for(let L=0;L<h;L++)w(A,f,L,C,v,d[D]);_.push(I.deflate(A,p))}let H,z=1e9;for(D=0;D<_.length;D++)_[D].length<z&&(H=D,z=_[D].length);return _[H]}function w(f,h,v,C,A,U){const y=v*C;let _=y+v;if(f[_]=U,_++,U==0)if(C<500)for(var p=0;p<C;p++)f[_+p]=h[y+p];else f.set(new Uint8Array(h.buffer,y,C),_);else if(U==1){for(p=0;p<A;p++)f[_+p]=h[y+p];for(p=A;p<C;p++)f[_+p]=h[y+p]-h[y+p-A]+256&255}else if(v==0){for(p=0;p<A;p++)f[_+p]=h[y+p];if(U==2)for(p=A;p<C;p++)f[_+p]=h[y+p];if(U==3)for(p=A;p<C;p++)f[_+p]=h[y+p]-(h[y+p-A]>>1)+256&255;if(U==4)for(p=A;p<C;p++)f[_+p]=h[y+p]-u(h[y+p-A],0,0)+256&255}else{if(U==2)for(p=0;p<C;p++)f[_+p]=h[y+p]+256-h[y+p-C]&255;if(U==3){for(p=0;p<A;p++)f[_+p]=h[y+p]+256-(h[y+p-C]>>1)&255;for(p=A;p<C;p++)f[_+p]=h[y+p]+256-(h[y+p-C]+h[y+p-A]>>1)&255}if(U==4){for(p=0;p<A;p++)f[_+p]=h[y+p]+256-u(0,h[y+p-C],0)&255;for(p=A;p<C;p++)f[_+p]=h[y+p]+256-u(h[y+p-A],h[y+p-C],h[y+p-A-C])&255}}}function j(f,h){const v=new Uint8Array(f),C=v.slice(0),A=new Uint32Array(C.buffer),U=N(C,h),y=U[0],_=U[1],p=v.length,d=new Uint8Array(p>>2);let I;if(v.length<2e7)for(var D=0;D<p;D+=4)I=b(y,H=v[D]*(1/255),z=v[D+1]*(1/255),L=v[D+2]*(1/255),B=v[D+3]*(1/255)),d[D>>2]=I.ind,A[D>>2]=I.est.rgba;else for(D=0;D<p;D+=4){var H=v[D]*.00392156862745098,z=v[D+1]*(1/255),L=v[D+2]*(1/255),B=v[D+3]*(1/255);for(I=y;I.left;)I=T(I.est,H,z,L,B)<=0?I.left:I.right;d[D>>2]=I.ind,A[D>>2]=I.est.rgba}return{abuf:C.buffer,inds:d,plte:_}}function N(f,h,v){v==null&&(v=1e-4);const C=new Uint32Array(f.buffer),A={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=P(f,A.i0,A.i1),A.est=x(A.bst);const U=[A];for(;U.length<h;){let _=0,p=0;for(var y=0;y<U.length;y++)U[y].est.L>_&&(_=U[y].est.L,p=y);if(_<v)break;const d=U[p],I=M(f,C,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=I||d.i1<=I){d.est.L=0;continue}const D={i0:d.i0,i1:I,bst:null,est:null,tdst:0,left:null,right:null};D.bst=P(f,D.i0,D.i1),D.est=x(D.bst);const H={i0:I,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:d.bst.N-D.bst.N},y=0;y<16;y++)H.bst.R[y]=d.bst.R[y]-D.bst.R[y];for(y=0;y<4;y++)H.bst.m[y]=d.bst.m[y]-D.bst.m[y];H.est=x(H.bst),d.left=D,d.right=H,U[p]=D,U.push(H)}for(U.sort((_,p)=>p.bst.N-_.bst.N),y=0;y<U.length;y++)U[y].ind=y;return[A,U]}function b(f,h,v,C,A){if(f.left==null)return f.tdst=function(D,H,z,L,B){const O=H-D[0],R=z-D[1],Y=L-D[2],G=B-D[3];return O*O+R*R+Y*Y+G*G}(f.est.q,h,v,C,A),f;const U=T(f.est,h,v,C,A);let y=f.left,_=f.right;U>0&&(y=f.right,_=f.left);const p=b(y,h,v,C,A);if(p.tdst<=U*U)return p;const d=b(_,h,v,C,A);return d.tdst<p.tdst?d:p}function T(f,h,v,C,A){const{e:U}=f;return U[0]*h+U[1]*v+U[2]*C+U[3]*A-f.eMq}function M(f,h,v,C,A,U){for(C-=4;v<C;){for(;E(f,v,A)<=U;)v+=4;for(;E(f,C,A)>U;)C-=4;if(v>=C)break;const y=h[v>>2];h[v>>2]=h[C>>2],h[C>>2]=y,v+=4,C-=4}for(;E(f,v,A)>U;)v-=4;return v+4}function E(f,h,v){return f[h]*v[0]+f[h+1]*v[1]+f[h+2]*v[2]+f[h+3]*v[3]}function P(f,h,v){const C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],U=v-h>>2;for(let y=h;y<v;y+=4){const _=f[y]*.00392156862745098,p=f[y+1]*(1/255),d=f[y+2]*(1/255),I=f[y+3]*(1/255);A[0]+=_,A[1]+=p,A[2]+=d,A[3]+=I,C[0]+=_*_,C[1]+=_*p,C[2]+=_*d,C[3]+=_*I,C[5]+=p*p,C[6]+=p*d,C[7]+=p*I,C[10]+=d*d,C[11]+=d*I,C[15]+=I*I}return C[4]=C[1],C[8]=C[2],C[9]=C[6],C[12]=C[3],C[13]=C[7],C[14]=C[11],{R:C,m:A,N:U}}function x(f){const{R:h}=f,{m:v}=f,{N:C}=f,A=v[0],U=v[1],y=v[2],_=v[3],p=C==0?0:1/C,d=[h[0]-A*A*p,h[1]-A*U*p,h[2]-A*y*p,h[3]-A*_*p,h[4]-U*A*p,h[5]-U*U*p,h[6]-U*y*p,h[7]-U*_*p,h[8]-y*A*p,h[9]-y*U*p,h[10]-y*y*p,h[11]-y*_*p,h[12]-_*A*p,h[13]-_*U*p,h[14]-_*y*p,h[15]-_*_*p],I=d,D=S;let H=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,L=0;if(C!=0)for(let O=0;O<16&&(H=D.multVec(I,H),L=Math.sqrt(D.dot(H,H)),H=D.sml(1/L,H),!(O!=0&&Math.abs(L-z)<1e-9));O++)z=L;const B=[A*p,U*p,y*p,_*p];return{Cov:d,q:B,e:H,L:z,eMq255:D.dot(D.sml(255,B),H),eMq:D.dot(H,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var S={multVec:(f,h)=>[f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3],f[4]*h[0]+f[5]*h[1]+f[6]*h[2]+f[7]*h[3],f[8]*h[0]+f[9]*h[1]+f[10]*h[2]+f[11]*h[3],f[12]*h[0]+f[13]*h[1]+f[14]*h[2]+f[15]*h[3]],dot:(f,h)=>f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]*h[3],sml:(f,h)=>[f*h[0],f*h[1],f*h[2],f*h[3]]};be.encode=function(h,v,C,A,U,y,_){A==null&&(A=0),_==null&&(_=!1);const p=n(h,v,C,A,[!1,!1,!1,0,_,!1]);return g(p,-1),m(p,v,C,U,y)},be.encodeLL=function(h,v,C,A,U,y,_,p){const d={ctype:0+(A==1?0:2)+(U==0?0:4),depth:y,frames:[]},I=(A+U)*y,D=I*v;for(let H=0;H<h.length;H++)d.frames.push({rect:{x:0,y:0,width:v,height:C},img:new Uint8Array(h[H]),blend:0,dispose:1,bpp:Math.ceil(I/8),bpl:Math.ceil(D/8)});return g(d,0,!0),m(d,v,C,_,p)},be.encode.compress=n,be.encode.dither=c,be.quantize=j,be.quantize.getKDtree=N,be.quantize.getNearest=b})();const lt={toArrayBuffer(k,r){const u=k.width,s=k.height,e=u<<2,t=k.getContext("2d").getImageData(0,0,u,s),l=new Uint32Array(t.data.buffer),c=(32*u+31)/32<<2,m=c*s,g=122+m,n=new ArrayBuffer(g),a=new DataView(n),i=1<<20;let o,w,j,N,b=i,T=0,M=0,E=0;function P(f){a.setUint16(M,f,!0),M+=2}function x(f){a.setUint32(M,f,!0),M+=4}function S(f){M+=f}P(19778),x(g),S(4),x(122),x(108),x(u),x(-s>>>0),P(1),P(32),x(3),x(m),x(2835),x(2835),S(8),x(16711680),x(65280),x(255),x(4278190080),x(1466527264),function f(){for(;T<s&&b>0;){for(N=122+T*c,o=0;o<e;)b--,w=l[E++],j=w>>>24,a.setUint32(N+o,w<<8|j),o+=4;T++}E<l.length?(b=i,setTimeout(f,lt._dly)):r(n)}()},toBlob(k,r){this.toArrayBuffer(k,u=>{r(new Blob([u],{type:"image/bmp"}))})},_dly:9};var pe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Pt={[pe.CHROME]:16384,[pe.FIREFOX]:11180,[pe.DESKTOP_SAFARI]:16384,[pe.IE]:8192,[pe.IOS]:4096,[pe.ETC]:8192};const Ve=typeof window<"u",ct=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$e=Ve&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ht=(Ve||ct)&&($e&&$e.getOriginalSymbol(window,"File")||typeof File<"u"&&File),dt=(Ve||ct)&&($e&&$e.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Je(k,r,u=Date.now()){return new Promise(s=>{const e=k.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let c=l.length;const m=new Uint8Array(c);for(;c--;)m[c]=l.charCodeAt(c);const g=new Blob([m],{type:t});g.name=r,g.lastModified=u,s(g)})}function ht(k){return new Promise((r,u)=>{const s=new dt;s.onload=()=>r(s.result),s.onerror=e=>u(e),s.readAsDataURL(k)})}function ft(k){return new Promise((r,u)=>{const s=new Image;s.onload=()=>r(s),s.onerror=e=>u(e),s.src=k})}function Me(){if(Me.cachedResult!==void 0)return Me.cachedResult;let k=pe.ETC;const{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?k=pe.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?k=pe.IOS:/Safari/i.test(r)?k=pe.DESKTOP_SAFARI:/Firefox/i.test(r)?k=pe.FIREFOX:(/MSIE/i.test(r)||document.documentMode)&&(k=pe.IE),Me.cachedResult=k,Me.cachedResult}function ut(k,r){const u=Me(),s=Pt[u];let e=k,t=r,l=e*t;const c=e>t?t/e:e/t;for(;l>s*s;){const m=(s+e)/2,g=(s+t)/2;m<g?(t=g,e=g*c):(t=m*c,e=m),l=e*t}return{width:e,height:t}}function Xe(k,r){let u,s;try{if(u=new OffscreenCanvas(k,r),s=u.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{u=document.createElement("canvas"),s=u.getContext("2d")}return u.width=k,u.height=r,[u,s]}function gt(k,r){const{width:u,height:s}=ut(k.width,k.height),[e,t]=Xe(u,s);return r&&/jpe?g/.test(r)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(k,0,0,e.width,e.height),e}function Be(){return Be.cachedResult!==void 0||(Be.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Be.cachedResult}function Ye(k,r={}){return new Promise(function(u,s){let e,t;var l=function(){try{return t=gt(e,r.fileType||k.type),u([e,t])}catch(m){return s(m)}},c=function(m){try{var g=function(n){try{throw n}catch(a){return s(a)}};try{let n;return ht(k).then(function(a){try{return n=a,ft(n).then(function(i){try{return e=i,function(){try{return l()}catch(o){return s(o)}}()}catch(o){return g(o)}},g)}catch(i){return g(i)}},g)}catch(n){g(n)}}catch(n){return s(n)}};try{if(Be()||[pe.DESKTOP_SAFARI,pe.MOBILE_SAFARI].includes(Me()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(k).then(function(m){try{return e=m,l()}catch{return c()}},c)}catch{c()}})}function Ke(k,r,u,s,e=1){return new Promise(function(t,l){let c;if(r==="image/png"){let g,n,a;return g=k.getContext("2d"),{data:n}=g.getImageData(0,0,k.width,k.height),a=be.encode([n.buffer],k.width,k.height,4096*e),c=new Blob([a],{type:r}),c.name=u,c.lastModified=s,m.call(this)}{let g=function(){return m.call(this)};if(r==="image/bmp")return new Promise(n=>lt.toBlob(k,n)).then((function(n){try{return c=n,c.name=u,c.lastModified=s,g.call(this)}catch(a){return l(a)}}).bind(this),l);{let n=function(){return g.call(this)};if(typeof OffscreenCanvas=="function"&&k instanceof OffscreenCanvas)return k.convertToBlob({type:r,quality:e}).then((function(a){try{return c=a,c.name=u,c.lastModified=s,n.call(this)}catch(i){return l(i)}}).bind(this),l);{let a;return a=k.toDataURL(r,e),Je(a,u,s).then((function(i){try{return c=i,n.call(this)}catch(o){return l(o)}}).bind(this),l)}}}function m(){return t(c)}})}function Ae(k){k.width=0,k.height=0}function He(){return new Promise(function(k,r){let u,s,e,t;return He.cachedResult!==void 0?k(He.cachedResult):Je("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return u=l,Ye(u).then(function(c){try{return s=c[1],Ke(s,u.type,u.name,u.lastModified).then(function(m){try{return e=m,Ae(s),Ye(e).then(function(g){try{return t=g[0],He.cachedResult=t.width===1&&t.height===2,k(He.cachedResult)}catch(n){return r(n)}},r)}catch(g){return r(g)}},r)}catch(m){return r(m)}},r)}catch(c){return r(c)}},r)})}function pt(k){return new Promise((r,u)=>{const s=new dt;s.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return r(-2);const l=t.byteLength;let c=2;for(;c<l;){if(t.getUint16(c+2,!1)<=8)return r(-1);const m=t.getUint16(c,!1);if(c+=2,m==65505){if(t.getUint32(c+=2,!1)!=1165519206)return r(-1);const g=t.getUint16(c+=6,!1)==18761;c+=t.getUint32(c+4,g);const n=t.getUint16(c,g);c+=2;for(let a=0;a<n;a++)if(t.getUint16(c+12*a,g)==274)return r(t.getUint16(c+12*a+8,g))}else{if((65280&m)!=65280)break;c+=t.getUint16(c,!1)}}return r(-1)},s.onerror=e=>u(e),s.readAsArrayBuffer(k)})}function mt(k,r){const{width:u}=k,{height:s}=k,{maxWidthOrHeight:e}=r;let t,l=k;return isFinite(e)&&(u>e||s>e)&&([l,t]=Xe(u,s),u>s?(l.width=e,l.height=s/u*e):(l.width=u/s*e,l.height=e),t.drawImage(k,0,0,l.width,l.height),Ae(k)),l}function wt(k,r){const{width:u}=k,{height:s}=k,[e,t]=Xe(u,s);switch(r>4&&r<9?(e.width=s,e.height=u):(e.width=u,e.height=s),r){case 2:t.transform(-1,0,0,1,u,0);break;case 3:t.transform(-1,0,0,-1,u,s);break;case 4:t.transform(1,0,0,-1,0,s);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,s,0);break;case 7:t.transform(0,-1,-1,0,s,u);break;case 8:t.transform(0,-1,1,0,0,u)}return t.drawImage(k,0,0,u,s),Ae(k),e}function it(k,r,u=0){return new Promise(function(s,e){let t,l,c,m,g,n,a,i,o,w,j,N,b,T,M,E,P,x,S,f;function h(C=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;t+=C,r.onProgress(Math.min(t,100))}function v(C){if(r.signal&&r.signal.aborted)throw r.signal.reason;t=Math.min(Math.max(C,t),100),r.onProgress(t)}return t=u,l=r.maxIteration||10,c=1024*r.maxSizeMB*1024,h(),Ye(k,r).then((function(C){try{return[,m]=C,h(),g=mt(m,r),h(),new Promise(function(A,U){var y;if(!(y=r.exifOrientation))return pt(k).then((function(p){try{return y=p,_.call(this)}catch(d){return U(d)}}).bind(this),U);function _(){return A(y)}return _.call(this)}).then((function(A){try{return n=A,h(),He().then((function(U){try{return a=U?g:wt(g,n),h(),i=r.initialQuality||1,o=r.fileType||k.type,Ke(a,o,k.name,k.lastModified,i).then((function(y){try{{let p=function(){if(l--&&(M>c||M>b)){let I,D;return I=f?.95*S.width:S.width,D=f?.95*S.height:S.height,[P,x]=Xe(I,D),x.drawImage(S,0,0,I,D),i*=o==="image/png"?.85:.95,Ke(P,o,k.name,k.lastModified,i).then(function(H){try{return E=H,Ae(S),S=P,M=E.size,v(Math.min(99,Math.floor((T-M)/(T-c)*100))),p}catch(z){return e(z)}},e)}return[1]},d=function(){return Ae(S),Ae(P),Ae(g),Ae(a),Ae(m),v(100),s(E)};if(w=y,h(),j=w.size>c,N=w.size>k.size,!j&&!N)return v(100),s(w);var _;return b=k.size,T=w.size,M=T,S=a,f=!r.alwaysKeepResolution&&j,(_=(function(I){for(;I;){if(I.then)return void I.then(_,e);try{if(I.pop){if(I.length)return I.pop()?d.call(this):I;I=p}else I=I.call(this)}catch(D){return e(D)}}}).bind(this))(p)}}catch(p){return e(p)}}).bind(this),e)}catch(y){return e(y)}}).bind(this),e)}catch(U){return e(U)}}).bind(this),e)}catch(A){return e(A)}}).bind(this),e)})}const Tt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ze;function Ot(k,r){return new Promise((u,s)=>{Ze||(Ze=function(l){const c=[];return c.push(l),URL.createObjectURL(new Blob(c))}(Tt));const e=new Worker(Ze);e.addEventListener("message",function(l){if(r.signal&&r.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return s(new Error(l.data.error)),void e.terminate();u(l.data.file),e.terminate()}else r.onProgress(l.data.progress)}),e.addEventListener("error",s),r.signal&&r.signal.addEventListener("abort",()=>{s(r.signal.reason),e.terminate()}),e.postMessage({file:k,imageCompressionLibUrl:r.libURL,options:{...r,onProgress:void 0,signal:void 0}})})}function he(k,r){return new Promise(function(u,s){let e,t,l,c,m,g;if(e={...r},l=0,{onProgress:c}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=o=>{l=o,typeof c=="function"&&c(l)},!(k instanceof Blob||k instanceof Ht))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(k.type))return s(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||g)return it(k,e).then((function(o){try{return t=o,i.call(this)}catch(w){return s(w)}}).bind(this),s);var n=(function(){try{return i.call(this)}catch(o){return s(o)}}).bind(this),a=function(o){try{return it(k,e).then(function(w){try{return t=w,n()}catch(j){return s(j)}},s)}catch(w){return s(w)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ot(k,e).then(function(o){try{return t=o,n()}catch{return a()}},a)}catch{a()}function i(){try{t.name=k.name,t.lastModified=k.lastModified}catch{}try{e.preserveExif&&k.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===k.type)&&(t=ot(k,t))}catch{}return u(t)}})}he.getDataUrlFromFile=ht,he.getFilefromDataUrl=Je,he.loadImage=ft,he.drawImageInCanvas=gt,he.drawFileInCanvas=Ye,he.canvasToFile=Ke,he.getExifOrientation=pt,he.handleMaxWidthOrHeight=mt,he.followExifOrientation=wt,he.cleanupCanvasMemory=Ae,he.isAutoOrientationInBrowser=He,he.approximateBelowMaximumCanvasSizeOfBrowser=ut,he.copyExifWithoutOrientation=ot,he.getBrowserName=Me,he.version="2.0.2";var Lt=Object.defineProperty,Bt=(k,r,u)=>r in k?Lt(k,r,{enumerable:!0,configurable:!0,writable:!0,value:u}):k[r]=u,re=(k,r,u)=>Bt(k,typeof r!="symbol"?r+"":r,u);const We={x:0,y:0,width:0,height:0,unit:"px"},Ie=(k,r,u)=>Math.min(Math.max(k,r),u),zt=(...k)=>k.filter(r=>r&&typeof r=="string").join(" "),at=(k,r)=>k===r||k.width===r.width&&k.height===r.height&&k.x===r.x&&k.y===r.y&&k.unit===r.unit;function $t(k,r,u,s){const e=ke(k,u,s);return k.width&&(e.height=e.width/r),k.height&&(e.width=e.height*r),e.y+e.height>s&&(e.height=s-e.y,e.width=e.height*r),e.x+e.width>u&&(e.width=u-e.x,e.height=e.width/r),k.unit==="%"?Se(e,u,s):e}function Se(k,r,u){return k.unit==="%"?{...We,...k,unit:"%"}:{unit:"%",x:k.x?k.x/r*100:0,y:k.y?k.y/u*100:0,width:k.width?k.width/r*100:0,height:k.height?k.height/u*100:0}}function ke(k,r,u){return k.unit?k.unit==="px"?{...We,...k,unit:"px"}:{unit:"px",x:k.x?k.x*r/100:0,y:k.y?k.y*u/100:0,width:k.width?k.width*r/100:0,height:k.height?k.height*u/100:0}:{...We,...k,unit:"px"}}function st(k,r,u,s,e,t=0,l=0,c=s,m=e){const g={...k};let n=Math.min(t,s),a=Math.min(l,e),i=Math.min(c,s),o=Math.min(m,e);r&&(r>1?(n=l?l*r:n,a=n/r,i=c*r):(a=t?t/r:a,n=a*r,o=m/r)),g.y<0&&(g.height=Math.max(g.height+g.y,a),g.y=0),g.x<0&&(g.width=Math.max(g.width+g.x,n),g.x=0);const w=s-(g.x+g.width);w<0&&(g.x=Math.min(g.x,s-n),g.width+=w);const j=e-(g.y+g.height);if(j<0&&(g.y=Math.min(g.y,e-a),g.height+=j),g.width<n&&((u==="sw"||u=="nw")&&(g.x-=n-g.width),g.width=n),g.height<a&&((u==="nw"||u=="ne")&&(g.y-=a-g.height),g.height=a),g.width>i&&((u==="sw"||u=="nw")&&(g.x-=i-g.width),g.width=i),g.height>o&&((u==="nw"||u=="ne")&&(g.y-=o-g.height),g.height=o),r){const N=g.width/g.height;if(N<r){const b=Math.max(g.width/r,a);(u==="nw"||u=="ne")&&(g.y-=b-g.height),g.height=b}else if(N>r){const b=Math.max(g.height*r,n);(u==="sw"||u=="nw")&&(g.x-=b-g.width),g.width=b}}return g}function Yt(k,r,u,s){const e={...k};return r==="ArrowLeft"?s==="nw"?(e.x-=u,e.y-=u,e.width+=u,e.height+=u):s==="w"?(e.x-=u,e.width+=u):s==="sw"?(e.x-=u,e.width+=u,e.height+=u):s==="ne"?(e.y+=u,e.width-=u,e.height-=u):s==="e"?e.width-=u:s==="se"&&(e.width-=u,e.height-=u):r==="ArrowRight"&&(s==="nw"?(e.x+=u,e.y+=u,e.width-=u,e.height-=u):s==="w"?(e.x+=u,e.width-=u):s==="sw"?(e.x+=u,e.width-=u,e.height-=u):s==="ne"?(e.y-=u,e.width+=u,e.height+=u):s==="e"?e.width+=u:s==="se"&&(e.width+=u,e.height+=u)),r==="ArrowUp"?s==="nw"?(e.x-=u,e.y-=u,e.width+=u,e.height+=u):s==="n"?(e.y-=u,e.height+=u):s==="ne"?(e.y-=u,e.width+=u,e.height+=u):s==="sw"?(e.x+=u,e.width-=u,e.height-=u):s==="s"?e.height-=u:s==="se"&&(e.width-=u,e.height-=u):r==="ArrowDown"&&(s==="nw"?(e.x+=u,e.y+=u,e.width-=u,e.height-=u):s==="n"?(e.y+=u,e.height-=u):s==="ne"?(e.y+=u,e.width-=u,e.height-=u):s==="sw"?(e.x-=u,e.width+=u,e.height+=u):s==="s"?e.height+=u:s==="se"&&(e.width+=u,e.height+=u)),e}const Pe={capture:!0,passive:!1};let Kt=0;const Ue=class ve extends fe.PureComponent{constructor(){super(...arguments),re(this,"docMoveBound",!1),re(this,"mouseDownOnCrop",!1),re(this,"dragStarted",!1),re(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),re(this,"componentRef",fe.createRef()),re(this,"mediaRef",fe.createRef()),re(this,"resizeObserver"),re(this,"initChangeCalled",!1),re(this,"instanceId",`rc-${Kt++}`),re(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),re(this,"onCropPointerDown",r=>{const{crop:u,disabled:s}=this.props,e=this.getBox();if(!u)return;const t=ke(u,e.width,e.height);if(s)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=r.target.dataset.ord,c=!!l;let m=r.clientX,g=r.clientY,n=t.x,a=t.y;if(l){const i=r.clientX-e.x,o=r.clientY-e.y;let w=0,j=0;l==="ne"||l=="e"?(w=i-(t.x+t.width),j=o-t.y,n=t.x,a=t.y+t.height):l==="se"||l==="s"?(w=i-(t.x+t.width),j=o-(t.y+t.height),n=t.x,a=t.y):l==="sw"||l=="w"?(w=i-t.x,j=o-(t.y+t.height),n=t.x+t.width,a=t.y):(l==="nw"||l=="n")&&(w=i-t.x,j=o-t.y,n=t.x+t.width,a=t.y+t.height),m=n+e.x+w,g=a+e.y+j}this.evData={startClientX:m,startClientY:g,startCropX:n,startCropY:a,clientX:r.clientX,clientY:r.clientY,isResize:c,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),re(this,"onComponentPointerDown",r=>{const{crop:u,disabled:s,locked:e,keepSelection:t,onChange:l}=this.props,c=this.getBox();if(s||e||t&&u)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=r.clientX-c.x,g=r.clientY-c.y,n={unit:"px",x:m,y:g,width:0,height:0};this.evData={startClientX:r.clientX,startClientY:r.clientY,startCropX:m,startCropY:g,clientX:r.clientX,clientY:r.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(ke(n,c.width,c.height),Se(n,c.width,c.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),re(this,"onDocPointerMove",r=>{const{crop:u,disabled:s,onChange:e,onDragStart:t}=this.props,l=this.getBox();if(s||!u||!this.mouseDownOnCrop)return;r.cancelable&&r.preventDefault(),this.dragStarted||(this.dragStarted=!0,t&&t(r));const{evData:c}=this;c.clientX=r.clientX,c.clientY=r.clientY;let m;c.isResize?m=this.resizeCrop():m=this.dragCrop(),at(u,m)||e(ke(m,l.width,l.height),Se(m,l.width,l.height))}),re(this,"onComponentKeyDown",r=>{const{crop:u,disabled:s,onChange:e,onComplete:t}=this.props;if(s)return;const l=r.key;let c=!1;if(!u)return;const m=this.getBox(),g=this.makePixelCrop(m),n=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?ve.nudgeStepLarge:r.shiftKey?ve.nudgeStepMedium:ve.nudgeStep;if(l==="ArrowLeft"?(g.x-=n,c=!0):l==="ArrowRight"?(g.x+=n,c=!0):l==="ArrowUp"?(g.y-=n,c=!0):l==="ArrowDown"&&(g.y+=n,c=!0),c){r.cancelable&&r.preventDefault(),g.x=Ie(g.x,0,m.width-g.width),g.y=Ie(g.y,0,m.height-g.height);const a=ke(g,m.width,m.height),i=Se(g,m.width,m.height);e(a,i),t&&t(a,i)}}),re(this,"onHandlerKeyDown",(r,u)=>{const{aspect:s=0,crop:e,disabled:t,minWidth:l=0,minHeight:c=0,maxWidth:m,maxHeight:g,onChange:n,onComplete:a}=this.props,i=this.getBox();if(t||!e)return;if(r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="ArrowLeft"||r.key==="ArrowRight")r.stopPropagation(),r.preventDefault();else return;const o=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?ve.nudgeStepLarge:r.shiftKey?ve.nudgeStepMedium:ve.nudgeStep,w=ke(e,i.width,i.height),j=Yt(w,r.key,o,u),N=st(j,s,u,i.width,i.height,l,c,m,g);if(!at(e,N)){const b=Se(N,i.width,i.height);n(N,b),a&&a(N,b)}}),re(this,"onDocPointerDone",r=>{const{crop:u,disabled:s,onComplete:e,onDragEnd:t}=this.props,l=this.getBox();this.unbindDocMove(),!(s||!u)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,t&&t(r),e&&e(ke(u,l.width,l.height),Se(u,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),re(this,"onDragFocus",()=>{var r;(r=this.componentRef.current)==null||r.scrollTo(0,0)})}get document(){return document}getBox(){const r=this.mediaRef.current;if(!r)return{x:0,y:0,width:0,height:0};const{x:u,y:s,width:e,height:t}=r.getBoundingClientRect();return{x:u,y:s,width:e,height:t}}componentDidUpdate(r){const{crop:u,onComplete:s}=this.props;if(s&&!r.crop&&u){const{width:e,height:t}=this.getBox();e&&t&&s(ke(u,e,t),Se(u,e,t))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Pe),this.document.addEventListener("pointerup",this.onDocPointerDone,Pe),this.document.addEventListener("pointercancel",this.onDocPointerDone,Pe),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Pe),this.document.removeEventListener("pointerup",this.onDocPointerDone,Pe),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Pe),this.docMoveBound=!1)}getCropStyle(){const{crop:r}=this.props;if(r)return{top:`${r.y}${r.unit}`,left:`${r.x}${r.unit}`,width:`${r.width}${r.unit}`,height:`${r.height}${r.unit}`}}dragCrop(){const{evData:r}=this,u=this.getBox(),s=this.makePixelCrop(u),e=r.clientX-r.startClientX,t=r.clientY-r.startClientY;return s.x=Ie(r.startCropX+e,0,u.width-s.width),s.y=Ie(r.startCropY+t,0,u.height-s.height),s}getPointRegion(r,u,s,e){const{evData:t}=this,l=t.clientX-r.x,c=t.clientY-r.y;let m;e&&u?m=u==="nw"||u==="n"||u==="ne":m=c<t.startCropY;let g;return s&&u?g=u==="nw"||u==="w"||u==="sw":g=l<t.startCropX,g?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(r,u,s=0,e=0){const t=Math.min(s,r.width),l=Math.min(e,r.height);return!u||!t&&!l?[t,l]:u>1?t?[t,t/u]:[l*u,l]:l?[l*u,l]:[t,t/u]}resizeCrop(){const{evData:r}=this,{aspect:u=0,maxWidth:s,maxHeight:e}=this.props,t=this.getBox(),[l,c]=this.resolveMinDimensions(t,u,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(t);const g=this.getPointRegion(t,r.ord,l,c),n=r.ord||g;let a=r.clientX-r.startClientX,i=r.clientY-r.startClientY;(l&&n==="nw"||n==="w"||n==="sw")&&(a=Math.min(a,-l)),(c&&n==="nw"||n==="n"||n==="ne")&&(i=Math.min(i,-c));const o={unit:"px",x:0,y:0,width:0,height:0};g==="ne"?(o.x=r.startCropX,o.width=a,u?(o.height=o.width/u,o.y=r.startCropY-o.height):(o.height=Math.abs(i),o.y=r.startCropY-o.height)):g==="se"?(o.x=r.startCropX,o.y=r.startCropY,o.width=a,u?o.height=o.width/u:o.height=i):g==="sw"?(o.x=r.startCropX+a,o.y=r.startCropY,o.width=Math.abs(a),u?o.height=o.width/u:o.height=i):g==="nw"&&(o.x=r.startCropX+a,o.width=Math.abs(a),u?(o.height=o.width/u,o.y=r.startCropY-o.height):(o.height=Math.abs(i),o.y=r.startCropY+i));const w=st(o,u,g,t.width,t.height,l,c,s,e);return u||ve.xyOrds.indexOf(n)>-1?m=w:ve.xOrds.indexOf(n)>-1?(m.x=w.x,m.width=w.width):ve.yOrds.indexOf(n)>-1&&(m.y=w.y,m.height=w.height),m.x=Ie(m.x,0,t.width-m.width),m.y=Ie(m.y,0,t.height-m.height),m}renderCropSelection(){const{ariaLabels:r=ve.defaultProps.ariaLabels,disabled:u,locked:s,renderSelectionAddon:e,ruleOfThirds:t,crop:l}=this.props,c=this.getCropStyle();if(l)return V.createElement("div",{style:c,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":r.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!u&&!s&&V.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},V.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),V.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),V.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),V.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":r.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":r.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":r.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":r.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":r.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":r.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":r.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),V.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":r.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),e&&V.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},e(this.state)),t&&V.createElement(V.Fragment,null,V.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),V.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(r){const u={...We,...this.props.crop||{}};return ke(u,r.width,r.height)}render(){const{aspect:r,children:u,circularCrop:s,className:e,crop:t,disabled:l,locked:c,style:m,ruleOfThirds:g}=this.props,{cropIsActive:n,newCropIsBeingDrawn:a}=this.state,i=t?this.renderCropSelection():null,o=zt("ReactCrop",e,n&&"ReactCrop--active",l&&"ReactCrop--disabled",c&&"ReactCrop--locked",a&&"ReactCrop--new-crop",t&&r&&"ReactCrop--fixed-aspect",t&&s&&"ReactCrop--circular-crop",t&&g&&"ReactCrop--rule-of-thirds",!this.dragStarted&&t&&!t.width&&!t.height&&"ReactCrop--invisible-crop",s&&"ReactCrop--no-animate");return V.createElement("div",{ref:this.componentRef,className:o,style:m},V.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},u),t?V.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},V.createElement("defs",null,V.createElement("mask",{id:`hole-${this.instanceId}`},V.createElement("rect",{width:"100%",height:"100%",fill:"white"}),s?V.createElement("ellipse",{cx:`${t.x+t.width/2}${t.unit}`,cy:`${t.y+t.height/2}${t.unit}`,rx:`${t.width/2}${t.unit}`,ry:`${t.height/2}${t.unit}`,fill:"black"}):V.createElement("rect",{x:`${t.x}${t.unit}`,y:`${t.y}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`,fill:"black"}))),V.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,i)}};re(Ue,"xOrds",["e","w"]),re(Ue,"yOrds",["n","s"]),re(Ue,"xyOrds",["nw","ne","se","sw"]),re(Ue,"nudgeStep",1),re(Ue,"nudgeStepMedium",10),re(Ue,"nudgeStepLarge",100),re(Ue,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let Wt=Ue;function Xt(k,r,u){return Qt($t({unit:"%",width:90},u,k,r),k,r)}function Qt(k,r,u){const{width:s,height:e}=k,t=(r-s)/2,l=(u-e)/2;return{...k,x:t,y:l}}function qt({isOpen:k,imageSrc:r,onClose:u,onCropComplete:s}){const[e,t]=fe.useState(),[l,c]=fe.useState(),m=fe.useRef(null),[g,n]=fe.useState(1),[a,i]=fe.useState(!1),o=N=>{if(g){const{width:b,height:T}=N.currentTarget;t(Xt(b,T,g))}},w=async(N,b,T)=>{const M=document.createElement("canvas"),E=N.naturalWidth/N.width,P=N.naturalHeight/N.height;M.width=b.width,M.height=b.height;const x=M.getContext("2d");if(!x)throw new Error("No 2d context");return x.drawImage(N,b.x*E,b.y*P,b.width*E,b.height*P,0,0,b.width,b.height),new Promise((S,f)=>{M.toBlob(async h=>{if(!h){f(new Error("Canvas is empty"));return}const v=new File([h],T,{type:"image/jpeg"}),C={maxSizeMB:.5,maxWidthOrHeight:500,useWebWorker:!0};try{const A=await he(v,C);S(A)}catch(A){f(A)}},"image/jpeg",.9)})},j=async()=>{if(l&&m.current&&r){i(!0);try{const N=await w(m.current,l,"avatar.jpg");s(N),u()}catch(N){console.error(N)}finally{i(!1)}}};return F.jsx(vt,{appear:!0,show:k,as:fe.Fragment,children:F.jsxs(yt,{as:"div",className:"relative z-50",onClose:u,children:[F.jsx(rt,{as:fe.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:F.jsx("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),F.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:F.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:F.jsx(rt,{as:fe.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:F.jsxs(At,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all dark:bg-slate-800",children:[F.jsx(Ct,{as:"h3",className:"text-lg font-medium leading-6 text-slate-900 dark:text-white mb-4",children:"Crop Profile Photo"}),F.jsx("div",{className:"mt-2 flex justify-center",children:r&&F.jsx(Wt,{crop:e,onChange:(N,b)=>t(b),onComplete:N=>c(N),aspect:g,circularCrop:!0,children:F.jsx("img",{ref:m,alt:"Crop me",src:r,onLoad:o,className:"max-h-[60vh] object-contain"})})}),F.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[F.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-slate-100 px-4 py-2 text-sm font-medium text-slate-900 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-500 focus-visible:ring-offset-2 dark:bg-slate-700 dark:text-gray-200 dark:hover:bg-slate-600",onClick:u,disabled:a,children:"Cancel"}),F.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50",onClick:j,disabled:!l||a,children:a?"Processing...":"Save & Crop"})]})]})})})})]})})}function nr(k){const r=kt.c(80),{history:u,stats:s}=k,{t:e}=jt(),t=Nt().props.auth.user,[l,c]=fe.useState("activity"),[m,g]=fe.useState(!1),[n,a]=fe.useState(null),[i,o]=fe.useState(!1),w=fe.useRef(null);let j;r[0]!==e?(j=$=>{o(!0),Dt.post("/profile",{_method:"PATCH",photo:$},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{g(!1)},onError:ce=>{console.error("Photo upload failed:",ce),alert(e("Failed to upload photo. Please try again."))},onFinish:()=>{o(!1)}})},r[0]=e,r[1]=j):j=r[1];const N=j,b=t.settings?.difficulty||"medium";let T;r[2]!==b?(T={difficulty:b},r[2]=b,r[3]=T):T=r[3];const M=t.username||"";let E;r[4]!==T||r[5]!==M?(E={_method:"PATCH",settings:T,photo:null,username:M},r[4]=T,r[5]=M,r[6]=E):E=r[6];const{data:P,setData:x,post:S,processing:f,recentlySuccessful:h,errors:v}=Ut(E);let C;r[7]!==S?(C=$=>{$.preventDefault(),S("/profile",{forceFormData:!0})},r[7]=S,r[8]=C):C=r[8];const A=C;let U,y;r[9]===Symbol.for("react.memo_cache_sentinel")?(U=F.jsx(_t,{title:"Profile"}),y=F.jsx(Rt,{}),r[9]=U,r[10]=y):(U=r[9],y=r[10]);let _;r[11]===Symbol.for("react.memo_cache_sentinel")?(_=F.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-50 dark:from-indigo-500/20 dark:via-purple-500/20 dark:to-pink-500/20"}),r[11]=_):_=r[11];let p;r[12]===Symbol.for("react.memo_cache_sentinel")?(p=F.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-blue-500 to-purple-600 opacity-75 blur dark:opacity-100"}),r[12]=p):p=r[12];const d=t.profile_photo_url||`https://ui-avatars.com/api/?name=${t.name}`;let I;r[13]!==d||r[14]!==t.name?(I=F.jsx("img",{className:"relative h-24 w-24 rounded-full border-4 border-white object-cover shadow-xl dark:border-slate-800",src:d,alt:t.name}),r[13]=d,r[14]=t.name,r[15]=I):I=r[15];let D;r[16]!==i?(D=i&&F.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50",children:F.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-white border-t-transparent"})}),r[16]=i,r[17]=D):D=r[17];let H;r[18]===Symbol.for("react.memo_cache_sentinel")?(H=()=>w.current?.click(),r[18]=H):H=r[18];let z;r[19]===Symbol.for("react.memo_cache_sentinel")?(z=F.jsx("button",{onClick:H,className:"absolute bottom-0 right-0 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-slate-900 text-white shadow-lg ring-2 ring-white transition-transform active:scale-95 dark:bg-white dark:text-slate-900 dark:ring-slate-900",children:F.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r[19]=z):z=r[19];let L;r[20]===Symbol.for("react.memo_cache_sentinel")?(L=F.jsx("input",{ref:w,type:"file",accept:"image/*",className:"hidden",onChange:$=>{if($.target.files&&$.target.files.length>0){const ce=$.target.files[0],me=new FileReader;me.addEventListener("load",()=>{a(me.result?.toString()||null),g(!0)}),me.readAsDataURL(ce),$.target.value=""}}}),r[20]=L):L=r[20];let B;r[21]!==I||r[22]!==D?(B=F.jsxs("div",{className:"relative mb-4",children:[p,F.jsxs("div",{className:"relative group",children:[I,D,z,L]})]}),r[21]=I,r[22]=D,r[23]=B):B=r[23];let O;r[24]!==t.name?(O=F.jsx("h1",{className:"text-2xl font-black tracking-tight text-slate-900 dark:text-white",children:t.name}),r[24]=t.name,r[25]=O):O=r[25];let R;r[26]!==t.username?(R=t.username&&F.jsxs("p",{className:"text-sm font-bold text-indigo-500",children:["@",t.username]}),r[26]=t.username,r[27]=R):R=r[27];let Y;r[28]!==t.email?(Y=F.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t.email}),r[28]=t.email,r[29]=Y):Y=r[29];let G;r[30]===Symbol.for("react.memo_cache_sentinel")?(G=()=>c("activity"),r[30]=G):G=r[30];const Q=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${l==="activity"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let K;r[31]!==e?(K=e("Activity"),r[31]=e,r[32]=K):K=r[32];let W;r[33]!==Q||r[34]!==K?(W=F.jsx("button",{onClick:G,className:Q,children:K}),r[33]=Q,r[34]=K,r[35]=W):W=r[35];let ee;r[36]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>c("settings"),r[36]=ee):ee=r[36];const ne=`flex-1 rounded-lg py-2 text-sm font-bold transition-all ${l==="settings"?"bg-white text-slate-900 shadow-sm dark:bg-slate-700 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`;let ge;r[37]!==e?(ge=e("Settings"),r[37]=e,r[38]=ge):ge=r[38];let le;r[39]!==ne||r[40]!==ge?(le=F.jsx("button",{onClick:ee,className:ne,children:ge}),r[39]=ne,r[40]=ge,r[41]=le):le=r[41];let Z;r[42]!==W||r[43]!==le?(Z=F.jsxs("div",{className:"mt-6 flex w-full max-w-xs items-center justify-center rounded-xl bg-slate-100 p-1 dark:bg-slate-800/50",children:[W,le]}),r[42]=W,r[43]=le,r[44]=Z):Z=r[44];let ie;r[45]!==B||r[46]!==O||r[47]!==R||r[48]!==Y||r[49]!==Z?(ie=F.jsxs("div",{className:"relative overflow-hidden bg-white pb-10 pt-24 shadow-sm dark:bg-slate-900",children:[_,F.jsxs("div",{className:"relative mx-auto flex max-w-lg flex-col items-center px-4 text-center",children:[B,O,R,Y,Z]})]}),r[45]=B,r[46]=O,r[47]=R,r[48]=Y,r[49]=Z,r[50]=ie):ie=r[50];let q;r[51]!==l||r[52]!==P||r[53]!==v||r[54]!==u||r[55]!==f||r[56]!==h||r[57]!==x||r[58]!==s||r[59]!==A||r[60]!==e||r[61]!==t.email||r[62]!==t.id||r[63]!==t.name||r[64]!==t.username?(q=F.jsx("main",{className:"mx-auto max-w-lg px-4 pt-6",children:F.jsx(nt,{mode:"wait",children:l==="activity"?F.jsxs(Ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"space-y-6",children:[s&&F.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[F.jsxs("div",{className:"col-span-2 overflow-hidden rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 p-5 text-white shadow-lg shadow-blue-500/20",children:[F.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-blue-100",children:e("Total Points")}),F.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[F.jsx("span",{className:"text-4xl font-black",children:s.points}),F.jsx("span",{className:"text-sm font-medium text-blue-200",children:"pts"})]})]}),F.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[F.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:e("Wins")}),F.jsx("div",{className:"mt-1 text-2xl font-black text-green-500",children:s.wins})]}),F.jsxs("div",{className:"rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[F.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:e("Losses")}),F.jsx("div",{className:"mt-1 text-2xl font-black text-red-500",children:s.losses})]}),F.jsxs("div",{className:"col-span-2 rounded-2xl bg-white p-4 shadow-sm dark:bg-slate-800",children:[F.jsxs("div",{className:"flex items-center justify-between",children:[F.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:e("Win Rate")}),F.jsxs("div",{className:"text-xl font-black text-slate-800 dark:text-white",children:[s.total_games>0?Math.round(s.wins/s.total_games*100):0,"%"]})]}),F.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700",children:F.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500",style:{width:`${s.total_games>0?s.wins/s.total_games*100:0}%`}})})]})]}),F.jsxs("div",{className:"space-y-4",children:[F.jsx("h3",{className:"px-1 text-sm font-bold uppercase tracking-wider text-slate-400",children:e("Recent Matches")}),u&&u.length>0?F.jsx("div",{className:"space-y-3",children:u.map($=>F.jsxs("div",{className:"flex items-center gap-4 rounded-2xl bg-white p-3 shadow-sm transition-transform active:scale-[0.98] dark:bg-slate-800",children:[F.jsxs("div",{className:"relative shrink-0",children:[F.jsx("img",{className:"h-10 w-10 rounded-full bg-slate-100 object-cover dark:bg-slate-700",src:$.opponent?.avatar||`https://ui-avatars.com/api/?name=${$.opponent?.name||"?"}`,alt:""}),F.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-white dark:border-slate-800 ${$.result==="win"?"bg-green-500":$.result==="loss"?"bg-red-500":"bg-slate-400"}`})]}),F.jsxs("div",{className:"min-w-0 flex-1",children:[F.jsx("div",{className:"truncate font-bold text-slate-900 dark:text-white",children:$.opponent?.name||e("Unknown Opponent")}),F.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:$.date})]}),F.jsxs("div",{className:"text-right",children:[F.jsx("div",{className:`font-black ${$.result==="win"?"text-green-500":$.result==="loss"?"text-red-500":"text-slate-500"}`,children:$.result==="win"?"WON":$.result==="loss"?"LOST":"DRAW"}),F.jsx("div",{className:"text-xs font-bold text-slate-400 dark:text-slate-500",children:$.score})]})]},$.id))}):F.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-slate-200 p-8 text-center dark:border-slate-700",children:[F.jsx("div",{className:"mx-auto mb-2 flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 text-slate-400 dark:bg-slate-800",children:F.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),F.jsx("p",{className:"font-medium text-slate-500 dark:text-slate-400",children:e("No matches played yet")})]})]})]},"activity"):F.jsx(Ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:F.jsx("form",{onSubmit:A,className:"rounded-2xl bg-white p-5 shadow-sm dark:bg-slate-800",children:F.jsxs("div",{className:"space-y-6",children:[F.jsxs("div",{children:[F.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:e("Public Profile Link")}),F.jsxs("div",{className:"relative flex items-center rounded-xl bg-indigo-50 px-4 py-3 dark:bg-indigo-900/20",children:[F.jsx("div",{className:"min-w-0 flex-1 truncate text-sm font-bold text-indigo-600 dark:text-indigo-400",children:`${window.location.origin}/u/${t.username||t.id}`}),F.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/u/${t.username||t.id}`),alert(e("Link copied!"))},className:"ml-3 rounded-lg bg-white p-1.5 text-indigo-500 shadow-sm transition-colors hover:text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:hover:text-indigo-200",children:F.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),F.jsx("p",{className:"mt-2 text-xs text-slate-400",children:e("Share this link to show off your stats.")})]}),F.jsxs("div",{className:"grid gap-5",children:[F.jsxs("div",{children:[F.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:e("Display Name")}),F.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:t.name})]}),F.jsxs("div",{children:[F.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:e("Username")}),F.jsx("input",{type:"text",className:"w-full rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-bold text-slate-900 transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:P.username,onChange:$=>x("username",$.target.value),placeholder:e("Set a unique username")}),v.username&&F.jsx("div",{className:"mt-1 text-xs text-red-500",children:v.username})]}),F.jsxs("div",{children:[F.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:e("Email Address")}),F.jsx("div",{className:"w-full rounded-xl bg-slate-50 px-4 py-3 text-sm font-bold text-slate-700 dark:bg-slate-900/50 dark:text-slate-300",children:t.email})]}),F.jsxs("div",{children:[F.jsx("label",{className:"mb-2 block text-xs font-bold uppercase tracking-wider text-slate-400",children:e("Quiz Difficulty")}),F.jsxs("div",{className:"relative",children:[F.jsxs("select",{className:"w-full appearance-none rounded-xl border-slate-200 bg-slate-50 px-4 py-3 text-sm font-bold text-slate-900 transition-colors focus:border-blue-500 focus:ring-0 dark:border-slate-700 dark:bg-slate-900/50 dark:text-white",value:P.settings.difficulty,onChange:$=>x("settings",{...P.settings,difficulty:$.target.value}),children:[F.jsx("option",{value:"easy",children:e("Easy")}),F.jsx("option",{value:"medium",children:e("Medium")}),F.jsx("option",{value:"hard",children:e("Hard")})]}),F.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-500",children:F.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),F.jsx("p",{className:"mt-2 text-xs text-slate-400",children:e("Default difficulty for single player quizzes.")})]})]}),F.jsxs("div",{className:"pt-2",children:[F.jsx("button",{type:"submit",disabled:f,className:"flex w-full items-center justify-center rounded-xl bg-slate-900 py-3.5 text-sm font-bold text-white shadow-lg transition-transform active:scale-[0.98] disabled:opacity-50 dark:bg-white dark:text-slate-900",children:f?F.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-400 border-t-white"}):e("Save Changes")}),F.jsx(nt,{children:h&&F.jsx(Ge.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-3 text-center text-xs font-medium text-green-500",children:e("Settings saved successfully!")})})]})]})})},"settings")})}),r[51]=l,r[52]=P,r[53]=v,r[54]=u,r[55]=f,r[56]=h,r[57]=x,r[58]=s,r[59]=A,r[60]=e,r[61]=t.email,r[62]=t.id,r[63]=t.name,r[64]=t.username,r[65]=q):q=r[65];let X;r[66]!==ie||r[67]!==q?(X=F.jsxs("div",{className:"relative pb-20",children:[ie,q]}),r[66]=ie,r[67]=q,r[68]=X):X=r[68];let ae;r[69]===Symbol.for("react.memo_cache_sentinel")?(ae=F.jsx(Et,{}),r[69]=ae):ae=r[69];let se;r[70]===Symbol.for("react.memo_cache_sentinel")?(se=()=>{g(!1),a(null)},r[70]=se):se=r[70];let J;r[71]!==N?(J=$=>{N($)},r[71]=N,r[72]=J):J=r[72];let oe;r[73]!==n||r[74]!==m||r[75]!==J?(oe=F.jsx(qt,{isOpen:m,imageSrc:n,onClose:se,onCropComplete:J}),r[73]=n,r[74]=m,r[75]=J,r[76]=oe):oe=r[76];let te;return r[77]!==X||r[78]!==oe?(te=F.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 transition-colors duration-300 dark:bg-slate-950 dark:text-gray-100 pb-20 md:pb-0",children:[U,y,X,ae,oe]}),r[77]=X,r[78]=oe,r[79]=te):te=r[79],te}export{nr as default};
